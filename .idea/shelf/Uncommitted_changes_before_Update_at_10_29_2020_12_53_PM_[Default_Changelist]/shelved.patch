Index: app/src/main/res/layout/fragment_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/bg_login\"\r\n    tools:context=\".ui.main.MainActivity\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageView5\"\r\n        android:layout_width=\"113dp\"\r\n        android:layout_height=\"204dp\"\r\n        android:src=\"@drawable/app_icon_middle_portion_removed\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.03\" />\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progress_circular\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.937\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:fontFamily=\"@font/comfortaa\"\r\n        android:text=\"Attendo\"\r\n        android:textColor=\"#424141\"\r\n        android:textSize=\"20sp\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/login_edit_text_layout\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/imageView5\"\r\n        app:layout_constraintHorizontal_bias=\"0.482\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/imageView5\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/imageView5\"\r\n        app:layout_constraintVertical_bias=\"0.506\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView3\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Sign In\"\r\n        android:textColor=\"#505050\"\r\n        android:textSize=\"28dp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/imageView5\"\r\n        app:layout_constraintHorizontal_bias=\"0.854\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.445\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/login_edit_text_layout\"\r\n        style=\"@style/CustomEditText\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:layout_marginBottom=\"5dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:layout_marginStart=\"32dp\"\r\n        app:layout_constraintBottom_toTopOf=\"@id/passowrd_edit_text_layout\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/textView3\"\r\n        app:layout_constraintVertical_bias=\"1.0\">\r\n\r\n        <EditText\r\n            android:id=\"@+id/editTextTextPersonName\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:drawableStart=\"@drawable/email_icon_custom_dynamic\"\r\n            android:drawablePadding=\"10dp\"\r\n            android:ems=\"10\"\r\n            android:hint=\"Email ID\"\r\n            android:inputType=\"textEmailAddress\"\r\n            android:textAlignment=\"inherit\"\r\n            android:textStyle=\"normal\" />\r\n\r\n\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/passowrd_edit_text_layout\"\r\n        style=\"@style/CustomEditText\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"5dp\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        app:layout_constraintBottom_toTopOf=\"@id/guideline2\"\r\n        android:layout_marginBottom=\"5dp\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:passwordToggleEnabled=\"true\">\r\n\r\n        <EditText\r\n            android:id=\"@+id/editTextTextPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:drawableStart=\"@drawable/lock_icon_custom_dynamic\"\r\n            android:drawablePadding=\"10dp\"\r\n            android:ems=\"10\"\r\n            android:hint=\"Password\"\r\n            android:inputType=\"textPassword\"\r\n            android:textAlignment=\"inherit\" />\r\n\r\n\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n    <Button\r\n        android:id=\"@+id/button\"\r\n        style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"60dp\"\r\n        android:layout_marginStart=\"110dp\"\r\n        android:layout_marginEnd=\"110dp\"\r\n        android:clickable=\"true\"\r\n        android:elevation=\"0dp\"\r\n        android:stateListAnimator=\"@animator/card_pressed_animator\"\r\n        android:text=\"Login\"\r\n        android:textColor=\"@color/btn_positive_text_color\"\r\n        android:textSize=\"18dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/other_signIn_options_btn\"\r\n        app:layout_constraintVertical_bias=\"0.047\"\r\n        app:rippleColor=\"#AF91F4\"\r\n        app:strokeColor=\"#6333D3\"\r\n        app:strokeWidth=\"1dp\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textViewforgot\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"15dp\"\r\n        android:text=\"Forgot password?\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/button\"\r\n        app:layout_constraintVertical_bias=\"0.0\" />\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/textViewregister\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"New User? Register Here\"\r\n        android:textSize=\"15sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textViewforgot\"\r\n        app:layout_constraintVertical_bias=\"0.728\" />\r\n\r\n    <androidx.constraintlayout.widget.Guideline\r\n        android:id=\"@+id/guideline2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        app:layout_constraintGuide_percent=\"0.67\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/other_signIn_options_btn\"\r\n        style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"35dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Sign In Using\"\r\n        android:textAlignment=\"center\"\r\n        android:textAllCaps=\"false\"\r\n        android:textColor=\"@color/text_color_secondary\"\r\n        android:textSize=\"12dp\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/guideline2\"\r\n        app:rippleColor=\"#AF91F4\"\r\n        app:strokeColor=\"#6333D3\"\r\n        app:strokeWidth=\"1dp\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_login.xml	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ app/src/main/res/layout/fragment_login.xml	(date 1603982836444)
@@ -155,6 +155,8 @@
         app:layout_constraintVertical_bias="0.0" />
 
 
+
+
     <TextView
         android:id="@+id/textViewregister"
         android:layout_width="wrap_content"
Index: app/src/main/java/com/attendo/ui/auth/login/FragmentLogin.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.ui.auth.login;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.room.Database;\r\n\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.util.Patterns;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.ui.auth.AuthenticationActivity;\r\nimport com.attendo.ui.auth.FragmentForgetPassword;\r\nimport com.attendo.R;\r\nimport com.attendo.ui.auth.signup.FragmentSignup;\r\nimport com.attendo.ui.main.BottomNavMainActivity;\r\nimport com.attendo.ui.main.drawers.account.FragmentProfile;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.concurrent.Executor;\r\n\r\nimport static com.airbnb.lottie.L.TAG;\r\n\r\npublic class FragmentLogin extends Fragment implements logininterface.View {\r\n\r\n    private EditText email,password;\r\n    private Button loginbtn, otherWaysbtn;\r\n    private TextView forgotpassword;\r\n    private TextView register;\r\n    private logininterface.Presenter presenter;\r\n    private FragmentSignup fragmentSignup;\r\n    private FragmentForgetPassword fragmentForgetpassword;\r\n    private ProgressBar progress;\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    private static final int RC_SIGN_IN = 1234;\r\n    private FirebaseAuth mAuth;\r\n    private FragmentProfile fragmentProfile;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view= inflater.inflate(R.layout.fragment_login, container, false);\r\n\r\n        email = view.findViewById(R.id.editTextTextPersonName);\r\n        password = view.findViewById(R.id.editTextTextPassword);\r\n        loginbtn = view.findViewById(R.id.button);\r\n        forgotpassword = view.findViewById(R.id.textViewforgot);\r\n        register = view.findViewById(R.id.textViewregister);\r\n        progress = view.findViewById(R.id.progress_circular);\r\n        otherWaysbtn = view.findViewById(R.id.other_signIn_options_btn);\r\n        presenter = new loginPresenter(this);\r\n\r\n\r\n        fragmentSignup = new FragmentSignup();\r\n        fragmentForgetpassword = new FragmentForgetPassword();\r\n        fragmentProfile = new FragmentProfile();\r\n\r\n        //stay logged in code\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            // User is signed in\r\n            Intent i = new Intent(getActivity(),BottomNavMainActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(i);\r\n        } else {\r\n            // User is signed out\r\n            Log.d(TAG, \"onAuthStateChanged:signed_out\");\r\n        }\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        enter.setDuration(300);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n        exit.setDuration(300);\r\n\r\n        fragmentSignup.setEnterTransition(enter);\r\n        fragmentSignup.setExitTransition(exit);\r\n\r\n        fragmentForgetpassword.setEnterTransition(enter);\r\n        fragmentForgetpassword.setExitTransition(exit);\r\n\r\n        forgotpassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                            setFragment(fragmentForgetpassword);\r\n            }\r\n        });\r\n\r\n        register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentSignup);\r\n            }\r\n        });\r\n\r\n        loginbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progress.setVisibility(View.VISIBLE);\r\n                handleLogin();\r\n\r\n            }\r\n        });\r\n\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().hide();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        //google sign in option:\r\n        View otherWaysToSignIn = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_sign_in,\r\n                (ConstraintLayout) view.findViewById(R.id.sign_in_bottom_sheet));\r\n        BottomSheetDialog signInBottomSheet = new BottomSheetDialog(getContext(), R.style.BottomSheetDialog);\r\n        signInBottomSheet.setContentView(otherWaysToSignIn);\r\n        signInBottomSheet.setDismissWithAnimation(true);\r\n\r\n        //create google sign  in request\r\n        createRequest();\r\n\r\n        otherWaysbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                signInBottomSheet.show();\r\n                ImageView googleSignInbtn = signInBottomSheet.findViewById(R.id.google_sign_in);\r\n                ImageView facebookSignInbtn = signInBottomSheet.findViewById(R.id.facebook_sign_in);\r\n\r\n                googleSignInbtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        //code goes here for google sign in\r\n                        signIn();\r\n                        signInBottomSheet.dismiss();\r\n\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    public void setInputs(boolean enable){\r\n        email.setEnabled(enable);\r\n        password.setEnabled(enable);\r\n        loginbtn.setEnabled(enable);\r\n    }\r\n\r\n    //method for google signIn\r\n    private void createRequest(){\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        // Build a GoogleSignInClient with the options specified by gso.\r\n        mGoogleSignInClient = GoogleSignIn.getClient(getActivity(), gso);\r\n    }\r\n\r\n    //google sign in\r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, \"firebaseAuthWithGoogle:\" + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, \"Google sign in failed\", e);\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        //TODO: Add the loadin animation dialog here\r\n        CustomLoadingDialog loadingDialog = new CustomLoadingDialog(getActivity());\r\n        loadingDialog.startDialog(false);\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener( getActivity(), new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            loadingDialog.dismissDialog();\r\n                            // Sign in success, update UI with the signed-in user's information\r\n                            Log.d(TAG, \"signInWithCredential:success\");\r\n                            Toast.makeText(getContext(), \"Sign In succesful\" ,Toast.LENGTH_SHORT).show();\r\n\r\n                            checkUser();\r\n\r\n\r\n                        }\r\n                        else {\r\n                            loadingDialog.dismissDialog();\r\n                            // If sign in fails, display a message to the user.\r\n                            Log.w(TAG, \"signInWithCredential:failure\", task.getException());\r\n                            Snackbar.make(getView(), \"Authentication Failed.\", Snackbar.LENGTH_SHORT).show();\r\n\r\n                        }\r\n\r\n                        // ...\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void setNextFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getParentFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.start_frame, fragment);\r\n        fragmentTransaction.addToBackStack(null);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n    private void setDataGoogleSignIn(Fragment fragment) {\r\n        GoogleSignInAccount signInAccount = GoogleSignIn.getLastSignedInAccount(getContext());\r\n        String name = null;\r\n        if(signInAccount!= null){\r\n            name = signInAccount.getDisplayName();\r\n        }\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(\"name\", name);\r\n        bundle.putString(\"institution\",\"\");\r\n        bundle.putString(\"city\",\"\");\r\n        bundle.putString(\"phone\",\"\");\r\n        fragment.setArguments(bundle);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void disableinput() {\r\n        setInputs(false);\r\n    }\r\n\r\n    @Override\r\n    public void enableInput() {\r\n        setInputs(true);\r\n    }\r\n\r\n    @Override\r\n    public void handleLogin() {\r\n        if(!isValidEmail()){\r\n            progress.setVisibility(View.INVISIBLE);\r\n            Toast.makeText(getActivity(),\"please enter a valid email\",Toast.LENGTH_SHORT).show();\r\n            email.setError(\"InValid email\");\r\n        }\r\n        else if(!isValidPassword()){\r\n            progress.setVisibility(View.INVISIBLE);\r\n            Toast.makeText(getActivity(),\"please enter a valid password\",Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n            presenter.toLogin(email.getText().toString().trim(),password.getText().toString().trim());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isValidEmail() {\r\n        return Patterns.EMAIL_ADDRESS.matcher(email.getText().toString().trim()).matches();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValidPassword() {\r\n        if(TextUtils.isEmpty(password.getText().toString().trim()) || password.getText().toString().trim().length()<6){\r\n            Toast.makeText(getActivity(),\"please enter a valid password\",Toast.LENGTH_SHORT).show();\r\n            password.setError(\"Invalid data\");\r\n            return false;\r\n        }\r\n        else\r\n            return true;\r\n    }\r\n\r\n    @Override\r\n    public void onLogin() {\r\n        progress.setVisibility(View.INVISIBLE);\r\n        Toast.makeText(getActivity(),\"Login Successful by \" + email.getText().toString().trim(),Toast.LENGTH_SHORT).show();\r\n        Intent intent=new Intent(getActivity(), BottomNavMainActivity.class);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n    }\r\n\r\n    @Override\r\n    public void onError(String message) {\r\n        progress.setVisibility(View.INVISIBLE);\r\n        Toast.makeText(getActivity(),message,Toast.LENGTH_SHORT).show();\r\n    }\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.start_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n    private void checkUser(){\r\n\r\n        if(mAuth.getCurrentUser() != null) {\r\n            final String id = mAuth.getCurrentUser().getUid();\r\n            DatabaseReference mData = FirebaseDatabase.getInstance().getReference(\"data\");\r\n\r\n            mData.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.hasChild(mAuth.getCurrentUser().getUid())) {\r\n                        Intent newIntent = new Intent(getActivity(), BottomNavMainActivity.class);\r\n                        startActivity(newIntent);\r\n                        getActivity().finish();\r\n                    } else {\r\n                        setNextFragment(fragmentProfile);\r\n                        setDataGoogleSignIn(fragmentProfile);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/ui/auth/login/FragmentLogin.java	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ app/src/main/java/com/attendo/ui/auth/login/FragmentLogin.java	(date 1603984068947)
@@ -11,6 +11,8 @@
 import androidx.fragment.app.FragmentTransaction;
 import androidx.room.Database;
 
+
+
 import android.text.TextUtils;
 import android.util.Log;
 import android.util.Patterns;
@@ -31,6 +33,9 @@
 import com.attendo.ui.auth.signup.FragmentSignup;
 import com.attendo.ui.main.BottomNavMainActivity;
 import com.attendo.ui.main.drawers.account.FragmentProfile;
+import com.facebook.CallbackManager;
+import com.facebook.FacebookActivity;
+import com.facebook.FacebookSdk;
 import com.google.android.gms.auth.api.signin.GoogleSignIn;
 import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
 import com.google.android.gms.auth.api.signin.GoogleSignInClient;
@@ -71,6 +76,8 @@
     private FirebaseAuth mAuth;
     private FragmentProfile fragmentProfile;
 
+    private CallbackManager mCallbackManager;
+
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
@@ -140,6 +147,7 @@
         ((AppCompatActivity)getActivity()).getSupportActionBar().hide();
 
         mAuth = FirebaseAuth.getInstance();
+        FacebookSdk.sdkInitialize(FacebookSdk.getApplicationContext());
 
         //google sign in option:
         View otherWaysToSignIn = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_sign_in,
@@ -164,10 +172,9 @@
                         //code goes here for google sign in
                         signIn();
                         signInBottomSheet.dismiss();
-
-
                     }
                 });
+                mCallbackManager = CallbackManager.Factory.create();
             }
         });
 
@@ -364,6 +371,5 @@
 
         }
 
-
     }
 }
\ No newline at end of file
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:4.1.0'\r\n        classpath 'com.google.gms:google-services:4.3.3'\r\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.3.0'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n        google()\r\n    }\r\n\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ build.gradle	(date 1603975034518)
@@ -4,6 +4,7 @@
     repositories {
         jcenter()
         google()
+        mavenCentral()
     }
     dependencies {
         classpath 'com.android.tools.build:gradle:4.1.0'
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\napply plugin: 'com.google.firebase.crashlytics'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    defaultConfig {\r\n        applicationId \"com.attendo\"\r\n        manifestPlaceholders = [bootPriority:\"999\"]\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        versionCode 2\r\n        versionName \"1.1\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        targetCompatibility = 1.8\r\n        sourceCompatibility = 1.8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation \"androidx.room:room-runtime:2.2.5\"\r\n    implementation 'androidx.work:work-runtime:2.2.0'\r\n    implementation 'com.google.firebase:firebase-database:19.3.1'\r\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.1.0'\r\n    annotationProcessor \"androidx.room:room-compiler:2.2.5\"\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'androidx.appcompat:appcompat:1.0.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\r\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\r\n    implementation \"androidx.cardview:cardview:1.0.0\"\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.android.gms:play-services-ads:17.2.1'\r\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\r\n    implementation 'com.firebase:firebase-client-android:2.5.2'\r\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\r\n    implementation 'androidx.mediarouter:mediarouter:1.0.0'\r\n    implementation 'com.google.firebase:firebase-auth:19.3.1'\r\n    implementation 'com.jakewharton:butterknife:10.0.0'\r\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.0.0'\r\n    annotationProcessor 'androidx.room:room-compiler:2.0.0'\r\n    implementation 'androidx.room:room-runtime:2.0.0'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.2.0'\r\n    implementation 'androidx.lifecycle:lifecycle-livedata:2.2.0'\r\n    implementation 'com.squareup.picasso:picasso:2.5.2'\r\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\r\n\r\n    //crashlytic\r\n     implementation 'com.google.firebase:firebase-analytics:17.5.0'\r\n     implementation 'com.google.firebase:firebase-crashlytics:17.2.1'\r\n\r\n    //lottie animations\r\n    implementation 'com.airbnb.android:lottie:3.4.4'\r\n\r\n    //rate app library\r\n    implementation 'com.codemybrainsout.rating:ratingdialog:1.0.8'\r\n\r\n    //overscroll method\r\n    implementation 'me.everything:overscroll-decor-android:1.1.0'\r\n\r\n    //retrofit\r\n    implementation 'com.squareup.retrofit2:retrofit:2.8.1'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.8.1'\r\n\r\n    //firebase\r\n    implementation 'com.google.firebase:firebase-messaging:20.3.0'\r\n\r\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ app/build.gradle	(date 1603975090789)
@@ -59,6 +59,9 @@
     implementation 'com.squareup.picasso:picasso:2.5.2'
     implementation 'com.google.android.gms:play-services-auth:15.0.1'
 
+    //Facebook login
+    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'
+
     //crashlytic
      implementation 'com.google.firebase:firebase-analytics:17.5.0'
      implementation 'com.google.firebase:firebase-crashlytics:17.2.1'
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">AttendO</string>\r\n    <string name=\"title_activity_main\">MainActivity</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n    <string name=\"action_settings\">Settings</string>\r\n    <string name=\"title_activity_login\">LoginActivity</string>\r\n\r\n    <string name=\"menu_home\">Home</string>\r\n    <string name=\"menu_gallery\">Gallery</string>\r\n    <string name=\"menu_slideshow\">Slideshow</string>\r\n    <string name=\"menu_tools\">Tools</string>\r\n    <string name=\"menu_share\">Share</string>\r\n    <string name=\"menu_send\">Send</string>\r\n    <string name=\"title_activity_sub_details\">SubDetails</string>\r\n    <string name=\"title_activity_sub\">SubActivity</string>\r\n    <string name=\"title_activity_abc\">ABC</string>\r\n    <string name=\"title_activity_example\">example</string>\r\n    <string name=\"large_text\">\r\n        \"Material is the metaphor.\\n\\n\"\r\n\r\n        \"A material metaphor is the unifying theory of a rationalized space and a system of motion.\"\r\n        \"The material is grounded in tactile reality, inspired by the study of paper and ink, yet \"\r\n        \"technologically advanced and open to imagination and magic.\\n\"\r\n        \"Surfaces and edges of the material provide visual cues that are grounded in reality. The \"\r\n        \"use of familiar tactile attributes helps users quickly understand affordances. Yet the \"\r\n        \"flexibility of the material creates new affordances that supercede those in the physical \"\r\n        \"world, without breaking the rules of physics.\\n\"\r\n        \"The fundamentals of light, surface, and movement are key to conveying how objects move, \"\r\n        \"interact, and exist in space and in relation to each other. Realistic lighting shows \"\r\n        \"seams, divides space, and indicates moving parts.\\n\\n\"\r\n\r\n        \"Bold, graphic, intentional.\\n\\n\"\r\n\r\n        \"The foundational elements of print based design typography, grids, space, scale, color, \"\r\n        \"and use of imagery guide visual treatments. These elements do far more than please the \"\r\n        \"eye. They create hierarchy, meaning, and focus. Deliberate color choices, edge to edge \"\r\n        \"imagery, large scale typography, and intentional white space create a bold and graphic \"\r\n        \"interface that immerse the user in the experience.\\n\"\r\n        \"An emphasis on user actions makes core functionality immediately apparent and provides \"\r\n        \"waypoints for the user.\\n\\n\"\r\n\r\n        \"Motion provides meaning.\\n\\n\"\r\n\r\n        \"Motion respects and reinforces the user as the prime mover. Primary user actions are \"\r\n        \"inflection points that initiate motion, transforming the whole design.\\n\"\r\n        \"All action takes place in a single environment. Objects are presented to the user without \"\r\n        \"breaking the continuity of experience even as they transform and reorganize.\\n\"\r\n        \"Motion is meaningful and appropriate, serving to focus attention and maintain continuity. \"\r\n        \"Feedback is subtle yet clear. Transitions are efﬁcient yet coherent.\\n\\n\"\r\n\r\n        \"3D world.\\n\\n\"\r\n\r\n        \"The material environment is a 3D space, which means all objects have x, y, and z \"\r\n        \"dimensions. The z-axis is perpendicularly aligned to the plane of the display, with the \"\r\n        \"positive z-axis extending towards the viewer. Every sheet of material occupies a single \"\r\n        \"position along the z-axis and has a standard 1dp thickness.\\n\"\r\n        \"On the web, the z-axis is used for layering and not for perspective. The 3D world is \"\r\n        \"emulated by manipulating the y-axis.\\n\\n\"\r\n\r\n        \"Light and shadow.\\n\\n\"\r\n\r\n        \"Within the material environment, virtual lights illuminate the scene. Key lights create \"\r\n        \"directional shadows, while ambient light creates soft shadows from all angles.\\n\"\r\n        \"Shadows in the material environment are cast by these two light sources. In Android \"\r\n        \"development, shadows occur when light sources are blocked by sheets of material at \"\r\n        \"various positions along the z-axis. On the web, shadows are depicted by manipulating the \"\r\n        \"y-axis only. The following example shows the card with a height of 6dp.\\n\\n\"\r\n\r\n        \"Resting elevation.\\n\\n\"\r\n\r\n        \"All material objects, regardless of size, have a resting elevation, or default elevation \"\r\n        \"that does not change. If an object changes elevation, it should return to its resting \"\r\n        \"elevation as soon as possible.\\n\\n\"\r\n\r\n        \"Component elevations.\\n\\n\"\r\n\r\n        \"The resting elevation for a component type is consistent across apps (e.g., FAB elevation \"\r\n        \"does not vary from 6dp in one app to 16dp in another app).\\n\"\r\n        \"Components may have different resting elevations across platforms, depending on the depth \"\r\n        \"of the environment (e.g., TV has a greater depth than mobile or desktop).\\n\\n\"\r\n\r\n        \"Responsive elevation and dynamic elevation offsets.\\n\\n\"\r\n\r\n        \"Some component types have responsive elevation, meaning they change elevation in response \"\r\n        \"to user input (e.g., normal, focused, and pressed) or system events. These elevation \"\r\n        \"changes are consistently implemented using dynamic elevation offsets.\\n\"\r\n        \"Dynamic elevation offsets are the goal elevation that a component moves towards, relative \"\r\n        \"to the component’s resting state. They ensure that elevation changes are consistent \"\r\n        \"across actions and component types. For example, all components that lift on press have \"\r\n        \"the same elevation change relative to their resting elevation.\\n\"\r\n        \"Once the input event is completed or cancelled, the component will return to its resting \"\r\n        \"elevation.\\n\\n\"\r\n\r\n        \"Avoiding elevation interference.\\n\\n\"\r\n\r\n        \"Components with responsive elevations may encounter other components as they move between \"\r\n        \"their resting elevations and dynamic elevation offsets. Because material cannot pass \"\r\n        \"through other material, components avoid interfering with one another any number of ways, \"\r\n        \"whether on a per component basis or using the entire app layout.\\n\"\r\n        \"On a component level, components can move or be removed before they cause interference. \"\r\n        \"For example, a floating action button (FAB) can disappear or move off screen before a \"\r\n        \"user picks up a card, or it can move if a snackbar appears.\\n\"\r\n        \"On the layout level, design your app layout to minimize opportunities for interference. \"\r\n        \"For example, position the FAB to one side of stream of a cards so the FAB won’t interfere \"\r\n        \"when a user tries to pick up one of cards.\\n\\n\"\r\n    </string>\r\n\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n\r\n\r\n    <string name=\"app_names\">SimpleAlarms</string>\r\n\r\n    <!-- Main Activity/Fragment -->\r\n    <string name=\"empty_view_text\">Press the Floating Action Button to add an alarm!</string>\r\n\r\n    <!-- Edit Alarm Activity/Fragment -->\r\n    <string name=\"time\">Time</string>\r\n    <string name=\"label\">Label</string>\r\n    <string name=\"days\">Days</string>\r\n    <string name=\"edit_alarm\">Edit Alarm</string>\r\n    <string name=\"add_alarm\">Add Alarm</string>\r\n    <string name=\"add_label_hint\">Add a label!</string>\r\n    <string name=\"update_complete\">Changes Saved</string>\r\n    <string name=\"update_failed\">Update Failed</string>\r\n    <string name=\"delete_complete\">Alarm Deleted</string>\r\n    <string name=\"delete_failed\">Delete Failed</string>\r\n    <string name=\"delete_dialog_title\">Confirm Delete Alarm</string>\r\n    <string name=\"delete_dialog_content\">Are you sure you would like to delete this alarm?</string>\r\n    <string name=\"yes\">Yes</string>\r\n    <string name=\"no\">No</string>\r\n\r\n    <!-- Edit Alarm Menu -->\r\n    <string name=\"action_save\">Save</string>\r\n    <string name=\"action_delete\">Delete</string>\r\n\r\n    <!-- Alarm Landing Page Activity/Fragment -->\r\n    <string name=\"launch_main_activity\">Launch Main Activity</string>\r\n    <string name=\"dismiss\">Dismiss</string>\r\n\r\n    <!-- Days -->\r\n    <string name=\"monday\">Monday</string>\r\n    <string name=\"tuesday\">Tuesday</string>\r\n    <string name=\"wednesday\">Wednesday</string>\r\n    <string name=\"thursday\">Thursday</string>\r\n    <string name=\"friday\">Friday</string>\r\n    <string name=\"saturday\">Saturday</string>\r\n    <string name=\"sunday\">Sunday</string>\r\n\r\n    <!-- Notification -->\r\n    <string name=\"channel_name\">Simple Alarms</string>\r\n\r\n\r\n    <string name=\"time_set\">Set Your Alarm</string>\r\n    <string name=\"subject_set\">Alarm Name</string>\r\n</resources>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ app/src/main/res/values/strings.xml	(date 1603982224544)
@@ -8,6 +8,9 @@
     <string name="nav_header_desc">Navigation header</string>
     <string name="action_settings">Settings</string>
     <string name="title_activity_login">LoginActivity</string>
+    <string name="facebook_app_id">2774497869495624</string>
+    <string name="fb_login_protocol_scheme">fb2774497869495624</string>
+
 
     <string name="menu_home">Home</string>
     <string name="menu_gallery">Gallery</string>
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:dist=\"http://schemas.android.com/apk/distribution\"\r\n    package=\"com.attendo\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.VIBRATE\" />\r\n    <uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/>\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity\r\n            android:name=\"com.attendo.ui.main.BottomNavMainActivity\"\r\n            android:theme=\"@style/AppThemeCustom\"\r\n            android:screenOrientation=\"portrait\">\r\n\r\n        </activity>\r\n\r\n        <activity android:name=\"com.attendo.ui.splash.IntroActivity\" android:theme=\"@style/AppTheme\" android:screenOrientation=\"portrait\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\"com.attendo.ui.auth.AuthenticationActivity\"\r\n            android:theme=\"@style/AppTheme\"\r\n            android:screenOrientation=\"portrait\"/>\r\n        <activity\r\n            android:name=\"com.attendo.ui.main.MainActivity\"\r\n            android:label=\"@string/title_activity_main\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\">\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\r\n            android:value=\"ca-app-pub-4809014227716894~6673264229\" />\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n\r\n\r\n        <receiver android:name=\"com.attendo.ui.main.drawers.AlarmReminder\"/>\r\n\r\n\r\n    </application>\r\n\r\n\r\n\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 857114edf2899bd7986cc5f1d55b76be342a23cf)
+++ app/src/main/AndroidManifest.xml	(date 1603982587829)
@@ -49,6 +49,11 @@
         <receiver android:name="com.attendo.ui.main.drawers.AlarmReminder"/>
 
 
+        <meta-data android:name="com.facebook.sdk.ApplicationId"
+            android:value="@string/facebook_app_id"/>
+
+
+
     </application>
 
 
