Index: app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Interface.UpdateRecyclerView;\r\nimport com.attendo.Schedule.Model.SubjectRoutine;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.AddScheduleViewModel;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String day;\r\n    private AddScheduleViewModel addScheduleViewModel;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private ProgressBar PB;\r\n\r\n    //class Id\r\n    private String class_Id;\r\n\r\n    //check if data is sent to server\r\n    private boolean check = false;\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        //initial setting of data\r\n        addScheduleViewModel = new ViewModelProvider(this).get(AddScheduleViewModel.class);\r\n        class_Id = firebaseScheduleViewModel.RetrieveClassId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n       // Bundle bundle = this.getArguments();\r\n       // String day = bundle.getString(\"day\");\r\n       // String edit-subject = bundle.getString(\"subject\");\r\n        // String edit-faculty = bundle.getString(\"faculty\");\r\n        // String edit-time = bundle.getString(\"time\");\r\n\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        PB = view.findViewById(R.id.progress_bar_add_subject_details);\r\n        PB.setVisibility(View.INVISIBLE);\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = time.getText().toString();\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && day.length() > 0) {\r\n                    customLoadingDialog.startDialog(false);\r\n                    sendDataToServer();\r\n                    if(check){\r\n                        celebration.setVisibility(View.VISIBLE);\r\n                        celebration.playAnimation();\r\n                        dismiss();\r\n                        check = false;\r\n                    }else{\r\n                        Toast.makeText(getContext(), \"Saving Subject Details\", Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        day = parent.getItemAtPosition(position).toString();\r\n        day = day.toLowerCase();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n//    private void checkUser() {\r\n//        databaseReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n//            @Override\r\n//            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                if (snapshot.exists()) {\r\n//                    //classid = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Class_Id\").getValue(String.class);\r\n//                    //Toast.makeText(getActivity(),\"\"+classid+\" & \"+text+\" & \"+time.getText().toString()+\" & \"+subject.getText().toString()+\" & \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n//                    //Schedule schedule = new Schedule(classid, text, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n//                    //addScheduleViewModel.setScheduleResponse(schedule);\r\n//                    addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n//                        if (data == null) {\r\n//                           // Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n//                            Log.i(\"ApiCall\", \"Failed\");\r\n//                        } else {\r\n//                            Log.i(\"ApiCall\", \"successFull\");\r\n//                            String scheduleId = data.getSchedule().get_id();\r\n//                            databaseReference.child(mAuth.getCurrentUser().getUid()).child(\"Schedule_Id\").setValue(scheduleId);\r\n//                            Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n//                        }\r\n//                    });\r\n//                } else {\r\n//                    //Nothing to show here\r\n//                }\r\n//            }\r\n//            @Override\r\n//            public void onCancelled(@NonNull DatabaseError error) {\r\n//                //Toast.makeText(getActivity(),\"\"+error,Toast.LENGTH_SHORT).show();\r\n//            }\r\n//        });\r\n//    }\r\n\r\n    private void sendDataToServer(){\r\n        if(class_Id != null){\r\n            Schedule schedule = new Schedule(firebaseScheduleViewModel.RetrieveClassId(), day, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n            addScheduleViewModel.setScheduleResponse(schedule);\r\n            //Toast.makeText(getActivity(),\"\"+firebaseScheduleViewModel.RetrieveClassId()+\" \"+day+\" \"+time.getText().toString()+\" \"+subject.getText().toString()+\" \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n            addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                if (data == null) {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                    Log.i(\"ApiCall\", \"Failed\");\r\n                    check = true;\r\n                } else {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Log.i(\"ApiCall\", \"successFull\");\r\n                    String scheduleId = data.getSchedule().get_id();\r\n                    firebaseScheduleViewModel.AddClassScheduleId(scheduleId);\r\n                    Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    check = true;\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    },600);\r\n                }\r\n            });\r\n        }else{\r\n            Toast.makeText(getContext(), \"Please Wait!\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(revision 8c9cb2b19c56f271234d008a943f21fde883d6ab)
+++ app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(date 1610840410719)
@@ -85,7 +85,6 @@
         // String edit-time = bundle.getString("time");
 
         firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);
-
         customLoadingDialog = new CustomLoadingDialog(getActivity());
 
         PB = view.findViewById(R.id.progress_bar_add_subject_details);
Index: app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport android.util.AndroidException;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.attendo.data.api.ApiHelper;\r\nimport com.attendo.data.model.GetSchedule;\r\nimport com.attendo.data.model.ResponseGetSchedule;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class GetScheduleViewModel extends AndroidViewModel {\r\n\r\n    private ApiHelper apiHelper;\r\n    private MutableLiveData<ResponseGetSchedule> scheduleResponse;\r\n\r\n    public GetScheduleViewModel(@NonNull Application application) {\r\n        super(application);\r\n        apiHelper = new ApiHelper(application);\r\n        scheduleResponse=new MutableLiveData<ResponseGetSchedule>();\r\n    }\r\n\r\n    public MutableLiveData<ResponseGetSchedule> getScheduleGetResponse(){\r\n        return scheduleResponse;\r\n    }\r\n\r\n    public void setScheduleGetResponse(String classId, String day){\r\n        apiHelper.getschedule(classId, day).enqueue(new Callback<ResponseGetSchedule>() {\r\n            @Override\r\n            public void onResponse(Call<ResponseGetSchedule> call, Response<ResponseGetSchedule> response) {\r\n                if(response.code()<300){\r\n                    scheduleResponse.postValue(response.body());\r\n                    Log.e(\"Get Schedule 300\",response.message());\r\n                }else if(response.code()>=400){\r\n                    scheduleResponse.postValue(null);\r\n                    Log.e(\"Get Schedule 400\",response.message());\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<ResponseGetSchedule> call, Throwable t) {\r\n                Log.e(\"Get Schedule Error\",t.getMessage());\r\n                scheduleResponse.postValue(null);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java	(revision 8c9cb2b19c56f271234d008a943f21fde883d6ab)
+++ app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java	(date 1610840411031)
@@ -54,6 +54,4 @@
             }
         });
     }
-
-
 }
Index: app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class TuesdayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static TuesdayCr getInstance(){\r\n        TuesdayCr tuesdayCr = new TuesdayCr();\r\n        return tuesdayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Tuesday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(revision 8c9cb2b19c56f271234d008a943f21fde883d6ab)
+++ app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(date 1610840411157)
@@ -16,7 +16,6 @@
 public class TuesdayCr extends Fragment {
 
     private FloatingActionButton fb;
-    private AddSubjectDetailsFragment addSubjectDetailsFragment;
 
     public static TuesdayCr getInstance(){
         TuesdayCr tuesdayCr = new TuesdayCr();
@@ -29,7 +28,6 @@
         // Inflate the layout for this fragment
         View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);
 
-        addSubjectDetailsFragment = new AddSubjectDetailsFragment();
         fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);
 
         fb.setOnClickListener(new View.OnClickListener() {
Index: app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class FridayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static FridayCr getInstance(){\r\n        FridayCr fridayCr = new FridayCr();\r\n        return fridayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);\r\n\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Friday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Friday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(revision 8c9cb2b19c56f271234d008a943f21fde883d6ab)
+++ app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(date 1610840411230)
@@ -29,7 +29,6 @@
         // Inflate the layout for this fragment
         View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);
 
-
         addSubjectDetailsFragment = new AddSubjectDetailsFragment();
         fb = view.findViewById(R.id.Schedule_add_subject_Friday);
 
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml
