Index: app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Interface.UpdateRecyclerView;\r\nimport com.attendo.Schedule.Model.SubjectRoutine;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.AddScheduleViewModel;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String day;\r\n    private AddScheduleViewModel addScheduleViewModel;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private ProgressBar PB;\r\n\r\n    //class Id\r\n    private String class_Id;\r\n\r\n    //check if data is sent to server\r\n    private boolean check = false;\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        //initial setting of data\r\n        addScheduleViewModel = new ViewModelProvider(this).get(AddScheduleViewModel.class);\r\n        class_Id = firebaseScheduleViewModel.RetrieveClassId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n       // Bundle bundle = this.getArguments();\r\n       // String day = bundle.getString(\"day\");\r\n       // String edit-subject = bundle.getString(\"subject\");\r\n        // String edit-faculty = bundle.getString(\"faculty\");\r\n        // String edit-time = bundle.getString(\"time\");\r\n\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        PB = view.findViewById(R.id.progress_bar_add_subject_details);\r\n        PB.setVisibility(View.INVISIBLE);\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = time.getText().toString();\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && day.length() > 0) {\r\n                    customLoadingDialog.startDialog(false);\r\n                    sendDataToServer();\r\n                    if(check){\r\n                        celebration.setVisibility(View.VISIBLE);\r\n                        celebration.playAnimation();\r\n                        dismiss();\r\n                        check = false;\r\n                    }else{\r\n                        Toast.makeText(getContext(), \"Saving Subject Details\", Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        day = parent.getItemAtPosition(position).toString();\r\n        day = day.toLowerCase();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n//    private void checkUser() {\r\n//        databaseReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n//            @Override\r\n//            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                if (snapshot.exists()) {\r\n//                    //classid = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Class_Id\").getValue(String.class);\r\n//                    //Toast.makeText(getActivity(),\"\"+classid+\" & \"+text+\" & \"+time.getText().toString()+\" & \"+subject.getText().toString()+\" & \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n//                    //Schedule schedule = new Schedule(classid, text, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n//                    //addScheduleViewModel.setScheduleResponse(schedule);\r\n//                    addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n//                        if (data == null) {\r\n//                           // Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n//                            Log.i(\"ApiCall\", \"Failed\");\r\n//                        } else {\r\n//                            Log.i(\"ApiCall\", \"successFull\");\r\n//                            String scheduleId = data.getSchedule().get_id();\r\n//                            databaseReference.child(mAuth.getCurrentUser().getUid()).child(\"Schedule_Id\").setValue(scheduleId);\r\n//                            Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n//                        }\r\n//                    });\r\n//                } else {\r\n//                    //Nothing to show here\r\n//                }\r\n//            }\r\n//            @Override\r\n//            public void onCancelled(@NonNull DatabaseError error) {\r\n//                //Toast.makeText(getActivity(),\"\"+error,Toast.LENGTH_SHORT).show();\r\n//            }\r\n//        });\r\n//    }\r\n\r\n    private void sendDataToServer(){\r\n        if(class_Id != null){\r\n            Schedule schedule = new Schedule(firebaseScheduleViewModel.RetrieveClassId(), day, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n            addScheduleViewModel.setScheduleResponse(schedule);\r\n            //Toast.makeText(getActivity(),\"\"+firebaseScheduleViewModel.RetrieveClassId()+\" \"+day+\" \"+time.getText().toString()+\" \"+subject.getText().toString()+\" \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n            addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                if (data == null) {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                    Log.i(\"ApiCall\", \"Failed\");\r\n                    check = true;\r\n                } else {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Log.i(\"ApiCall\", \"successFull\");\r\n                    String scheduleId = data.getSchedule().get_id();\r\n                    firebaseScheduleViewModel.AddClassScheduleId(scheduleId);\r\n                    Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    check = true;\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    },600);\r\n                }\r\n            });\r\n        }else{\r\n            Toast.makeText(getContext(), \"Please Wait!\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(date 1610411405369)
@@ -85,7 +85,6 @@
         // String edit-time = bundle.getString("time");
 
         firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);
-
         customLoadingDialog = new CustomLoadingDialog(getActivity());
 
         PB = view.findViewById(R.id.progress_bar_add_subject_details);
Index: app/src/main/java/com/attendo/Schedule/CrViewPager/MondayCr.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.LifecycleOwner;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Adapters.RoutineItemAdapterCr;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.attendo.data.model.SubjectDetails;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.List;\r\n\r\npublic class MondayCr extends Fragment {\r\n\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n    private FloatingActionButton fb;\r\n    private RecyclerView mondayRecyclerView;\r\n    private FirebaseScheduleViewModel scheduleViewModel;\r\n    private String classId;\r\n    private RoutineItemAdapterCr routineItemAdapterCr;\r\n    private List<SubjectDetails> mondayList;\r\n    private GetScheduleViewModel getScheduleViewModel;\r\n\r\n    public static MondayCr getInstance(){\r\n        MondayCr mondayCr = new MondayCr();\r\n        return mondayCr;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view= inflater.inflate(R.layout.fragment_monday_cr, container, false);\r\n\r\n        scheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n        getScheduleViewModel = new ViewModelProvider(this).get(GetScheduleViewModel.class);\r\n\r\n        classId = scheduleViewModel.RetrieveClassCode();\r\n\r\n//        if(classId != null){\r\n//            getScheduleViewModel.setScheduleGetResponse(\"5ffb2322e0500500174d1ccf\", \"monday\");\r\n//            getScheduleViewModel.getScheduleGetResponse().observe(getActivity(), data ->{\r\n//                if(data != null){\r\n//                    mondayList = data.getRequiredSchedule();\r\n//                    routineItemAdapterCr = new RoutineItemAdapterCr(mondayList);\r\n//                    mondayRecyclerView.setAdapter(routineItemAdapterCr);\r\n//                }else Toast.makeText(getContext(), \"Failed\", Toast.LENGTH_SHORT).show();\r\n//            });\r\n//        }else Toast.makeText(getContext(), \"Please Wait\", Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Monday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Monday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        return  view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CrViewPager/MondayCr.java	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ app/src/main/java/com/attendo/Schedule/CrViewPager/MondayCr.java	(date 1610837981117)
@@ -69,7 +69,6 @@
 //        }else Toast.makeText(getContext(), "Please Wait", Toast.LENGTH_SHORT).show();
 
 
-
         addSubjectDetailsFragment = new AddSubjectDetailsFragment();
 
         fb = view.findViewById(R.id.Schedule_add_subject_Monday);
@@ -86,8 +85,6 @@
         });
 
 
-
-
         return  view;
     }
 }
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM__Default_Changelist_.xml	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM__Default_Changelist_.xml	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM_[Default_Changelist]" date="1609969282946" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 1/6/2021 4:41 PM [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM_[Default_Changelist]/shelved.patch	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM_[Default_Changelist]/shelved.patch	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
@@ -1,158 +0,0 @@
-Index: app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.ui.main;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Interface.UpdateRecyclerView;\r\nimport com.attendo.Schedule.Model.SubjectRoutine;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.viewmodel.AddScheduleViewModel;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String text;\r\n    public String classid;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n    private AddScheduleViewModel addScheduleViewModel;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public AddSubjectDetailsFragment() {\r\n    }\r\n\r\n    public static AddSubjectDetailsFragment newInstance(String param1, String param2) {\r\n        AddSubjectDetailsFragment fragment = new AddSubjectDetailsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n        addScheduleViewModel = new ViewModelProvider(this).get(AddScheduleViewModel.class);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = time.getText().toString();\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && text.length() > 0) {\r\n                    checkUser();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    }, 600);\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        text = parent.getItemAtPosition(position).toString();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n    private void checkUser() {\r\n        databaseReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    classid = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Class_Id\").getValue(String.class);\r\n                    Toast.makeText(getActivity(),\"\"+classid+\" & \"+text+\" & \"+time.getText().toString()+\" & \"+subject.getText().toString()+\" & \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n                    Schedule schedule = new Schedule(classid, text, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n                    addScheduleViewModel.setScheduleResponse(schedule);\r\n                    addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                        if (data == null) {\r\n                            Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                            Log.i(\"ApiCall\", \"Failed\");\r\n                        } else {\r\n                            Log.i(\"ApiCall\", \"successFull\");\r\n                            String scheduleId = data.getSchedule().get_id();\r\n                            databaseReference.child(mAuth.getCurrentUser().getUid()).child(\"Schedule_Id\").setValue(scheduleId);\r\n                            Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } else {\r\n                    //Nothing to show here\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                //Toast.makeText(getActivity(),\"\"+error,Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java	(date 1610121488751)
-@@ -151,7 +151,7 @@
-                     addScheduleViewModel.setScheduleResponse(schedule);
-                     addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {
-                         if (data == null) {
--                            Toast.makeText(getActivity(),"Fail to Add Schedule",Toast.LENGTH_SHORT).show();
-+                           // Toast.makeText(getActivity(),"Fail to Add Schedule",Toast.LENGTH_SHORT).show();
-                             Log.i("ApiCall", "Failed");
-                         } else {
-                             Log.i("ApiCall", "successFull");
-@@ -170,4 +170,12 @@
-             }
-         });
-     }
-+
-+}
-+class Threading extends Thread{
-+
-+    @Override
-+    public void run() {
-+
-+    }
- }
-\ No newline at end of file
-Index: app/src/main/java/com/attendo/Schedule/Model/SubjectRoutine.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.Schedule.Model;\r\n\r\npublic class SubjectRoutine {\r\n    private String subjectName;\r\n    private String time;\r\n    private String instructor;\r\n\r\n    public SubjectRoutine(String subjectName, String time, String instructor) {\r\n        this.subjectName = subjectName;\r\n        this.time = time;\r\n        this.instructor = instructor;\r\n    }\r\n\r\n    public String getSubjectName() {\r\n        return subjectName;\r\n    }\r\n\r\n    public void setSubjectName(String subjectName) {\r\n        this.subjectName = subjectName;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public String getInstructor() {\r\n        return instructor;\r\n    }\r\n\r\n    public void setInstructor(String instructor) {\r\n        this.instructor = instructor;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/Schedule/Model/SubjectRoutine.java	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ app/src/main/java/com/attendo/Schedule/Model/SubjectRoutine.java	(date 1610110571018)
-@@ -34,4 +34,4 @@
-     public void setInstructor(String instructor) {
-         this.instructor = instructor;
-     }
--}
-+}
-\ No newline at end of file
-Index: app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.viewmodel;\r\n\r\nimport android.app.Application;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.attendo.data.api.ApiHelper;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.ResponseCreateClass;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\n\r\npublic class AddScheduleViewModel extends AndroidViewModel {\r\n\r\n    private ApiHelper apiHelper;\r\n    private MutableLiveData<ResponseSchedule> scheduleResponse;\r\n\r\n    public AddScheduleViewModel(@NonNull Application application) {\r\n        super(application);\r\n        apiHelper = new ApiHelper(application);\r\n        scheduleResponse=new MutableLiveData<ResponseSchedule>();\r\n    }\r\n\r\n    public MutableLiveData<ResponseSchedule> getScheduleResponse(){\r\n        return scheduleResponse;\r\n    }\r\n\r\n    public void setScheduleResponse(Schedule schedule){\r\n        apiHelper.createschedule(schedule).enqueue(new Callback<ResponseSchedule>() {\r\n            @Override\r\n            public void onResponse(Call<ResponseSchedule> call, Response<ResponseSchedule> response) {\r\n                if(response.code() < 300){\r\n                    ResponseSchedule responseSchedule = response.body();\r\n                    scheduleResponse.postValue(responseSchedule);\r\n                }else if(response.code() >= 400){\r\n                    scheduleResponse.postValue(null);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<ResponseSchedule> call, Throwable t) {\r\n                scheduleResponse.postValue(null);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java	(date 1609969281615)
-@@ -36,7 +36,7 @@
-         apiHelper.createschedule(schedule).enqueue(new Callback<ResponseSchedule>() {
-             @Override
-             public void onResponse(Call<ResponseSchedule> call, Response<ResponseSchedule> response) {
--                if(response.code() < 300){
-+                if(response.code() < 200){
-                     ResponseSchedule responseSchedule = response.body();
-                     scheduleResponse.postValue(responseSchedule);
-                 }else if(response.code() >= 400){
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-@@ -1,59 +0,0 @@
--Index: app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.JoinClass;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.JoinClassViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class StudentDetailsInputFragment extends Fragment {\r\n\r\n\r\n    private EditText name,scholarid,email,classcode;\r\n    private Button btn;\r\n    private StudentFragment studentFragment;\r\n    private JoinClassViewModel joinClassViewModel;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudentDetailsInputFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static StudentDetailsInputFragment newInstance(String param1, String param2) {\r\n        StudentDetailsInputFragment fragment = new StudentDetailsInputFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_student_details_input, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Join Class\");\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n\r\n        studentFragment = new StudentFragment();\r\n        joinClassViewModel = new ViewModelProvider(this).get(JoinClassViewModel.class);\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        name = view.findViewById(R.id.student_name_edittext);\r\n        scholarid = view.findViewById(R.id.student_scholar_id_edittext);\r\n        email = view.findViewById(R.id.student_email_edittext);\r\n        classcode = view.findViewById(R.id.student_class_code_edittext);\r\n\r\n        btn = view.findViewById(R.id.student_join_class_btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String Name = name.getText().toString();\r\n                String Scholarid = scholarid.getText().toString();\r\n                String EmailId = email.getText().toString();\r\n                String Class = classcode.getText().toString();\r\n                if(Name.length()>0 && Scholarid.length()>0 && EmailId.length()>0 && Class.length()>0){\r\n                    SendDataToServer();\r\n                    customLoadingDialog.startDialog(false);\r\n                }\r\n                else{\r\n                    Toast.makeText(getActivity(),\"Please fill all the fields\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void SendDataToServer() {\r\n        JoinClass joinClass = new JoinClass(classcode.getText().toString(),name.getText().toString(),email.getText().toString(),scholarid.getText().toString());\r\n        joinClassViewModel.setJoinResponse(joinClass);\r\n        joinClassViewModel.getJoinResponse().observe(getActivity(), data -> {\r\n            customLoadingDialog.dismissDialog();\r\n            if (data == null) {\r\n                Log.i(\"ApiCall\", \"Failed\");\r\n            } else {\r\n                String UserId = mAuth.getCurrentUser().getUid();\r\n                databaseReference.child(UserId).child(\"Class_Code\").setValue(classcode.getText().toString());\r\n                databaseReference.child(UserId).child(\"Join_As\").setValue(\"Student\");\r\n                Log.i(\"ApiCall\", \"successFull\");\r\n                Toast.makeText(getContext(),\"\" + data.getMessage(),Toast.LENGTH_LONG).show();\r\n                setFragment(studentFragment);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getParentFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n}//gE8PMS
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(date 1609292255944)
--@@ -113,13 +113,14 @@
--         joinClassViewModel.getJoinResponse().observe(getActivity(), data -> {
--             customLoadingDialog.dismissDialog();
--             if (data == null) {
--+                Toast.makeText(getActivity(),"Failed to join wrong class code",Toast.LENGTH_SHORT).show();
--                 Log.i("ApiCall", "Failed");
--             } else {
--                 String UserId = mAuth.getCurrentUser().getUid();
--                 databaseReference.child(UserId).child("Class_Code").setValue(classcode.getText().toString());
--                 databaseReference.child(UserId).child("Join_As").setValue("Student");
--                 Log.i("ApiCall", "successFull");
---                Toast.makeText(getContext(),"" + data.getMessage(),Toast.LENGTH_LONG).show();
--+                Toast.makeText(getContext(),"" + data.getMessage(),Toast.LENGTH_SHORT).show();
--                 setFragment(studentFragment);
--             }
--         });
--Index: app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.ui.main.BottomNavMainActivity;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class StudetntSettingsFragment extends BottomSheetDialogFragment {\r\n\r\n    private TextView text;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudetntSettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static StudetntSettingsFragment newInstance(String param1, String param2) {\r\n        StudetntSettingsFragment fragment = new StudetntSettingsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_studetnt_settings, container, false);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        text = view.findViewById(R.id.leaveClass_student_settings);\r\n\r\n        text.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String userId = mAuth.getCurrentUser().getUid();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Schedule\").child(userId);\r\n                ref.removeValue();\r\n                Toast.makeText(getActivity(),\"You left the Schedule\",Toast.LENGTH_SHORT).show();\r\n                dismiss();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(date 1609360072715)
--@@ -36,7 +36,6 @@
--     }
-- 
-- 
---    // TODO: Rename and change types and number of parameters
--     public static StudetntSettingsFragment newInstance(String param1, String param2) {
--         StudetntSettingsFragment fragment = new StudetntSettingsFragment();
--         Bundle args = new Bundle();
--Index: app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.ui.main.drawers.account;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.SharedPreferences.Editor;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.transition.Explode;\r\nimport android.transition.Fade;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.AccelerateDecelerateInterpolator;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.transition.Transition;\r\nimport androidx.transition.TransitionInflater;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.CRSettingsFragment;\r\nimport com.attendo.Schedule.StudetntSettingsFragment;\r\nimport com.attendo.ui.auth.AuthenticationActivity;\r\nimport com.attendo.ui.main.drawers.FragmentAppRate;\r\nimport com.attendo.ui.main.drawers.FragmentBug;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendance;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendanceCriteria;\r\nimport com.attendo.ui.main.drawers.FragmentFAQ;\r\nimport com.attendo.ui.main.drawers.FragmentHelp;\r\nimport com.attendo.ui.main.drawers.FragmentInfo;\r\nimport com.codemybrainsout.ratingdialog.RatingDialog;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class FragmentAccountAndSettings extends Fragment {\r\n\r\n    @BindView(R.id.adView)\r\n    AdView adView;\r\n\r\n\r\n    private FragmentUserProfile fragmentUserProfile;\r\n    private FragmentHelp fragmentHelp;\r\n    private FragmentBug fragmentBug;\r\n    private FragmentAppRate fragmentAppRate;\r\n    private FragmentEditAttendanceCriteria fragmentEditAttendanceCriteria;\r\n    private FragmentEditAttendance fragmentEditAttendance;\r\n    private FragmentFAQ fragmentFAQ;\r\n    private FragmentInfo fragmentInfo;\r\n    TextView logout,Bug,Help,AppRate,AttCritaria,Att,name,college, aboutsettings, theme, routine;\r\n    CardView Profile;\r\n    BottomNavigationView bottomNavigationView;\r\n\r\n    FirebaseAuth mAuth;\r\n    DatabaseReference databaseReference;\r\n    FirebaseStorage firebaseStorage;\r\n    LottieAnimationView profileLottie;\r\n\r\n\r\n    //database for schedule and necessary variables\r\n    DatabaseReference scheduleReference;\r\n    private String typeOfUser;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public FragmentAccountAndSettings() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static FragmentAccountAndSettings newInstance(String param1, String param2) {\r\n        FragmentAccountAndSettings fragment = new FragmentAccountAndSettings();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_account_and_settings, container, false);\r\n        ButterKnife.bind(this, view);\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(\"Settings\");\r\n\r\n\r\n\r\n\r\n        fragmentAppRate = new FragmentAppRate();\r\n        fragmentBug = new FragmentBug();\r\n        fragmentEditAttendance = new FragmentEditAttendance();\r\n        fragmentUserProfile = new FragmentUserProfile();\r\n        fragmentEditAttendanceCriteria = new FragmentEditAttendanceCriteria();\r\n        fragmentHelp = new FragmentHelp();\r\n        fragmentFAQ = new FragmentFAQ();\r\n        fragmentInfo = new FragmentInfo();\r\n        name = view.findViewById(R.id.profile_name);\r\n        college = view.findViewById(R.id.profile_college);\r\n        profileLottie = view.findViewById(R.id.lottieanimationprofile);\r\n        bottomNavigationView = getActivity().findViewById(R.id.bottom_nav_bar);\r\n\r\n        bottomNavigationView.setVisibility(View.VISIBLE);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseStorage = FirebaseStorage.getInstance();\r\n        String user_id = mAuth.getCurrentUser().getUid();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"data\");\r\n\r\n        //schedule reference\r\n        scheduleReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        checkUserClass();\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if(snapshot.exists()) {\r\n                    name.setText(snapshot.child(user_id).child(\"username\").getValue(String.class));\r\n                    college.setText(snapshot.child(user_id).child(\"college\").getValue(String.class));\r\n                }\r\n                else{\r\n                    name.setText(\"user_name\");\r\n                    college.setText(\"institute_name\");\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        AppRate = view.findViewById(R.id.rate_app);\r\n        Bug = view.findViewById(R.id.report_bug);\r\n        Profile = view.findViewById(R.id.view_account);\r\n        AttCritaria = view.findViewById(R.id.edit_attendance_criterion);\r\n        Help = view.findViewById(R.id.help_settings);\r\n        logout = view.findViewById(R.id.logout_settings);\r\n        theme = view.findViewById(R.id.theme);\r\n        routine = view.findViewById(R.id.routine_settings);\r\n\r\n        Transition transition = TransitionInflater.from(getContext()).inflateTransition(R.transition.card_transition);\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n\r\n        Explode explode = new Explode();\r\n        explode.setDuration(400);\r\n        explode.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        Fade fade = new Fade();\r\n        fade.setDuration(400);\r\n        fade.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        enter.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        enter.setDuration(400);\r\n\r\n        exit.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        exit.setDuration(400);\r\n\r\n\r\n        fragmentAppRate.setEnterTransition(enter);\r\n        fragmentAppRate.setExitTransition(exit);\r\n\r\n        fragmentHelp.setEnterTransition(enter);\r\n        fragmentHelp.setExitTransition(exit);\r\n\r\n        fragmentBug.setEnterTransition(enter);\r\n        fragmentBug.setExitTransition(exit);\r\n\r\n        fragmentEditAttendance.setEnterTransition(enter);\r\n        fragmentEditAttendance.setExitTransition(exit);\r\n\r\n        fragmentEditAttendanceCriteria.setEnterTransition(enter);\r\n        fragmentEditAttendanceCriteria.setExitTransition(exit);\r\n\r\n        fragmentInfo.setEnterTransition(enter);\r\n        fragmentInfo.setExitTransition(exit);\r\n\r\n\r\n        Drawable drawable = getActivity().getDrawable(R.drawable.app_icon_middle_portion_removed);\r\n\r\n        AppRate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                setFragment(fragmentAppRate);\r\n//                bottomNavigationView.setVisibility(View.GONE);\r\n                final RatingDialog ratingDialog = new RatingDialog.Builder(getContext())\r\n                        .icon(drawable)\r\n                        .threshold(2)\r\n                        .title(\"How was your experience with us?\")\r\n                        .titleTextColor(R.color.text_color_primary)\r\n                        .ratingBarColor(R.color.btn_positive_text_color)\r\n                        .playstoreUrl(\"https://play.google.com/store/apps/details?id=com.attendo\")\r\n                        .onThresholdCleared(new RatingDialog.Builder.RatingThresholdClearedListener() {\r\n                            @Override\r\n                            public void onThresholdCleared(RatingDialog ratingDialog, float rating, boolean thresholdCleared) {\r\n                                Handler handler = new Handler();\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        if(thresholdCleared && rating>3){\r\n                                            Toast.makeText(getContext(), \"Thank You So Much\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                        else if(thresholdCleared && rating<=3){\r\n                                            Toast.makeText(getContext(), \"Please Suggest Us\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                    }\r\n                                },600);\r\n                            }\r\n                        })\r\n                        .build();\r\n                ratingDialog.show();\r\n\r\n            }\r\n        });\r\n\r\n        Bug.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentBug);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        Profile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                FragmentTransaction fragmentManager = getFragmentManager().beginTransaction();\r\n                fragmentManager.replace(R.id.container_frame, fragmentUserProfile)\r\n                        .addSharedElement(Profile, \"card_expand_to_fit_screen\")\r\n                        .addSharedElement(profileLottie, \"profileExpand\")\r\n                        .addToBackStack(null)\r\n                        .commit();\r\n\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n\r\n                fragmentUserProfile.setSharedElementEnterTransition(transition);\r\n            }\r\n        });\r\n\r\n        AttCritaria.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               setFragment(fragmentEditAttendanceCriteria);\r\n            }\r\n        });\r\n\r\n        Help.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentFAQ);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        logout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getActivity(),\"Logout\",Toast.LENGTH_SHORT).show();\r\n                mAuth.signOut();\r\n                Intent intent = new Intent(getActivity(), AuthenticationActivity.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        //shared preferences for saving the radio button state of theme selection by user\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n        Editor editor = sharedPreferences.edit();\r\n\r\n        SharedPreferences load = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n\r\n\r\n        theme.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //theme selection by user code goes here\r\n\r\n                BottomSheetDialog themeSelect = new BottomSheetDialog(getContext(), R.style.BottomSheetDialog);\r\n                View themeBottomSheet = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_theme_select,\r\n                        (ConstraintLayout) view.findViewById(R.id.theme_select_bottom_sheet_container));\r\n                themeSelect.setContentView(themeBottomSheet);\r\n                themeSelect.show();\r\n                themeSelect.setDismissWithAnimation(true);\r\n\r\n                RadioGroup themeSelectRadioGroup = themeSelect.findViewById(R.id.theme_radio_group);\r\n                RadioButton darkTheme = themeSelect.findViewById(R.id.dark_theme_select);\r\n                RadioButton lightTheme = themeSelect.findViewById(R.id.light_theme_select);\r\n                RadioButton systemDefaultTheme = themeSelect.findViewById(R.id.system_default_theme_select);\r\n\r\n                //show the previous setting to the user\r\n                int selectedRadioButton = load.getInt(\"check_theme\", systemDefaultTheme.getId());\r\n                themeSelectRadioGroup.check(selectedRadioButton);\r\n\r\n                if(Build.VERSION.SDK_INT < Build.VERSION_CODES.O){\r\n                    systemDefaultTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    darkTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    lightTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                }\r\n\r\n\r\n                themeSelectRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                        i = radioGroup.getCheckedRadioButtonId();\r\n                        switch (i){\r\n                            case R.id.dark_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.light_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.system_default_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n\r\n                        }\r\n                        editor.putInt(\"check_theme\" , i);\r\n                        editor.commit();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        routine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                switch (typeOfUser){\r\n                    case \"Cr\":\r\n                        CRSettingsFragment settingsFragment = new CRSettingsFragment();\r\n                        settingsFragment.show(getParentFragmentManager(), \"Cr Settings\");\r\n                        break;\r\n                    case \"Student\":\r\n                        StudetntSettingsFragment studetntSettingsFragment = new StudetntSettingsFragment();\r\n                        studetntSettingsFragment.show(getParentFragmentManager(), \"Students Settings\");\r\n                        break;\r\n                    case \"nothing\":\r\n                        Toast.makeText(getActivity(), \"Please join or create a class\", Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        //mobile ads\r\n\r\n        MobileAds.initialize(getContext(), new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n\r\n            }\r\n        });\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        adView.loadAd(adRequest);\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void checkUserClass() {\r\n        scheduleReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n                    String code = mAuth.getCurrentUser().getUid();\r\n                    typeOfUser = snapshot.child(code).child(\"Join_As\").getValue(String.class);\r\n                }else{\r\n\r\n                    typeOfUser = \"nothing\";\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(getContext(), \"Oops! something went wrong\", Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n    private void gotoUrl(String url){\r\n\r\n        Uri uri = Uri.parse(url);\r\n        startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n    }\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(date 1609361409661)
--@@ -392,6 +392,7 @@
--             @Override
--             public void onClick(View view) {
--                 switch (typeOfUser){
--+
--                     case "Cr":
--                         CRSettingsFragment settingsFragment = new CRSettingsFragment();
--                         settingsFragment.show(getParentFragmentManager(), "Cr Settings");
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]" date="1609361436003" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/30/2020 3:50 PM [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: app/src/main/java/com/attendo/data/api/ApiHelper.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.data.api;\r\n\r\nimport android.content.Context;\r\n\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.GetSchedule;\r\nimport com.attendo.data.model.JoinClass;\r\nimport com.attendo.data.model.Response;\r\nimport com.attendo.data.model.Reminder;\r\nimport com.attendo.data.model.ResponseCreateClass;\r\nimport com.attendo.data.model.ResponseGetSchedule;\r\nimport com.attendo.data.model.ResponseJoinClass;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.data.model.ScheduleEdit;\r\nimport com.attendo.retrofit.RetrofitProvider;\r\n\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.http.Body;\r\nimport retrofit2.http.GET;\r\nimport retrofit2.http.POST;\r\n\r\npublic class ApiHelper implements ApiService\r\n{\r\n    private static ApiHelper instance;\r\n    private ApiService api;\r\n    public ApiHelper(Context context) {\r\n        api = RetrofitProvider.getInstance(context).create(ApiService.class);\r\n    }\r\n\r\n    public static ApiHelper getInstance(Context context){\r\n        if(instance == null){\r\n            synchronized (ApiHelper.class){\r\n                if(instance == null){\r\n                    instance = new ApiHelper(context);\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public Call<Response> sendReminder(Reminder reminder) {\r\n        return api.sendReminder(reminder);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Call<ResponseBody> cancelReminder(String id) {\r\n        return api.cancelReminder(id);\r\n    }\r\n\r\n    @Override\r\n    public Call<ResponseCreateClass> createclass(@Body CreateClass createClass){\r\n        return api.createclass(createClass);\r\n    }\r\n\r\n    @Override\r\n    public Call<ResponseJoinClass> joinclass(@Body JoinClass joinClass){\r\n        return api.joinclass(joinClass);\r\n    }\r\n\r\n    @POST(\"schedule\")\r\n    public Call<ResponseSchedule> createschedule(@Body Schedule schedule){\r\n        return api.createschedule(schedule);\r\n    }\r\n\r\n    @POST(\"schedule/edit\")\r\n    public Call<ResponseSchedule> updateschedule(@Body ScheduleEdit scheduleEdit){\r\n        return api.updateschedule(scheduleEdit);\r\n    }\r\n\r\n    @Override\r\n    public Call<ResponseGetSchedule> getschedule(@Body GetSchedule getSchedule){\r\n        return getschedule(getSchedule);\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/data/api/ApiHelper.java	(revision 9187cf1faf8ef68297da28e7202ede72b47627d6)
-+++ app/src/main/java/com/attendo/data/api/ApiHelper.java	(date 1609969282269)
-@@ -61,7 +61,7 @@
-         return api.joinclass(joinClass);
-     }
- 
--    @POST("schedule")
-+    @GET("schedule")
-     public Call<ResponseSchedule> createschedule(@Body Schedule schedule){
-         return api.createschedule(schedule);
-     }
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM__Default_Changelist_.xml	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM__Default_Changelist_.xml	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM_[Default_Changelist]" date="1610121509226" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_8_2021_10_58_AM_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 1/8/2021 10:58 AM [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM_[Default_Changelist]/shelved.patch	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_6_2021_4_41_PM_[Default_Changelist]/shelved.patch	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
@@ -1,387 +0,0 @@
-Index: app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.ui.main;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Interface.UpdateRecyclerView;\r\nimport com.attendo.Schedule.Model.SubjectRoutine;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.viewmodel.AddScheduleViewModel;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String text;\r\n    public String classid;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n    private AddScheduleViewModel addScheduleViewModel;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public AddSubjectDetailsFragment() {\r\n    }\r\n\r\n    public static AddSubjectDetailsFragment newInstance(String param1, String param2) {\r\n        AddSubjectDetailsFragment fragment = new AddSubjectDetailsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n        addScheduleViewModel = new ViewModelProvider(this).get(AddScheduleViewModel.class);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = time.getText().toString();\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && text.length() > 0) {\r\n                    checkUser();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    }, 600);\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        text = parent.getItemAtPosition(position).toString();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n    private void checkUser() {\r\n        databaseReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    classid = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Class_Id\").getValue(String.class);\r\n                    Toast.makeText(getActivity(),\"\"+classid+\" & \"+text+\" & \"+time.getText().toString()+\" & \"+subject.getText().toString()+\" & \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n                    Schedule schedule = new Schedule(classid, text, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n                    addScheduleViewModel.setScheduleResponse(schedule);\r\n                    addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                        if (data == null) {\r\n                            Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                            Log.i(\"ApiCall\", \"Failed\");\r\n                        } else {\r\n                            Log.i(\"ApiCall\", \"successFull\");\r\n                            String scheduleId = data.getSchedule().get_id();\r\n                            databaseReference.child(mAuth.getCurrentUser().getUid()).child(\"Schedule_Id\").setValue(scheduleId);\r\n                            Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } else {\r\n                    //Nothing to show here\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                //Toast.makeText(getActivity(),\"\"+error,Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ app/src/main/java/com/attendo/ui/main/AddSubjectDetailsFragment.java	(date 1609888791784)
-@@ -151,7 +151,7 @@
-                     addScheduleViewModel.setScheduleResponse(schedule);
-                     addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {
-                         if (data == null) {
--                            Toast.makeText(getActivity(),"Fail to Add Schedule",Toast.LENGTH_SHORT).show();
-+                           // Toast.makeText(getActivity(),"Fail to Add Schedule",Toast.LENGTH_SHORT).show();
-                             Log.i("ApiCall", "Failed");
-                         } else {
-                             Log.i("ApiCall", "successFull");
-Index: app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.viewmodel;\r\n\r\nimport android.app.Application;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.attendo.data.api.ApiHelper;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.ResponseCreateClass;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\n\r\npublic class AddScheduleViewModel extends AndroidViewModel {\r\n\r\n    private ApiHelper apiHelper;\r\n    private MutableLiveData<ResponseSchedule> scheduleResponse;\r\n\r\n    public AddScheduleViewModel(@NonNull Application application) {\r\n        super(application);\r\n        apiHelper = new ApiHelper(application);\r\n        scheduleResponse=new MutableLiveData<ResponseSchedule>();\r\n    }\r\n\r\n    public MutableLiveData<ResponseSchedule> getScheduleResponse(){\r\n        return scheduleResponse;\r\n    }\r\n\r\n    public void setScheduleResponse(Schedule schedule){\r\n        apiHelper.createschedule(schedule).enqueue(new Callback<ResponseSchedule>() {\r\n            @Override\r\n            public void onResponse(Call<ResponseSchedule> call, Response<ResponseSchedule> response) {\r\n                if(response.code() < 300){\r\n                    ResponseSchedule responseSchedule = response.body();\r\n                    scheduleResponse.postValue(responseSchedule);\r\n                }else if(response.code() >= 400){\r\n                    scheduleResponse.postValue(null);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<ResponseSchedule> call, Throwable t) {\r\n                scheduleResponse.postValue(null);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ app/src/main/java/com/attendo/viewmodel/AddScheduleViewModel.java	(date 1609889987914)
-@@ -36,7 +36,7 @@
-         apiHelper.createschedule(schedule).enqueue(new Callback<ResponseSchedule>() {
-             @Override
-             public void onResponse(Call<ResponseSchedule> call, Response<ResponseSchedule> response) {
--                if(response.code() < 300){
-+                if(response.code() < 200){
-                     ResponseSchedule responseSchedule = response.body();
-                     scheduleResponse.postValue(responseSchedule);
-                 }else if(response.code() >= 400){
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,166 +0,0 @@
--Index: app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.Class;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\n\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\npublic class CRDetailsInputFragment extends Fragment {\r\n\r\n    private EditText name,scholarId,ClassName,Email;\r\n    private Button create;\r\n    private CreateClassViewModel createClassViewModel;\r\n    private CrFragment crFragment;\r\n    private String class_code;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public CRDetailsInputFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static CRDetailsInputFragment newInstance(String param1, String param2) {\r\n        CRDetailsInputFragment fragment = new CRDetailsInputFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_cr_details_input, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Create Class\");\r\n\r\n       createClassViewModel =  new ViewModelProvider(this).get(CreateClassViewModel.class);\r\n\r\n        crFragment = new CrFragment();\r\n        name = view.findViewById(R.id.cr_name_edittext);\r\n        scholarId = view.findViewById(R.id.cr_scholar_id_edittext);\r\n        Email = view.findViewById(R.id.cr_email_edittext);\r\n        ClassName = view.findViewById(R.id.cr_class_name_edittext);\r\n\r\n        create = view.findViewById(R.id.cr_create_class_btn);\r\n\r\n\r\n        create.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String Name = name.getText().toString();\r\n                String Scholarid = scholarId.getText().toString();\r\n                String EmailId = Email.getText().toString();\r\n                String Class = ClassName.getText().toString();\r\n                if(Name.length()>0 && Scholarid.length()>0 && EmailId.length()>0 && Class.length()>0){\r\n                    class_code = SendDataToServer();\r\n                }\r\n                else{\r\n                    Toast.makeText(getActivity(),\"Please fill all the fields\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private String  SendDataToServer() {\r\n        CreateClass createClass = new CreateClass(name.getText().toString(),Email.getText().toString(),ClassName.getText().toString(),scholarId.getText().toString());\r\n        createClassViewModel.setClassResponse(createClass);\r\n        createClassViewModel.getClassResponse().observe(getActivity(), data -> {\r\n            if (data == null) {\r\n                Toast.makeText(getActivity(),\"Fail to Create\",Toast.LENGTH_SHORT).show();\r\n                Log.i(\"ApiCall\", \"Failed\");\r\n            } else {\r\n                Log.i(\"ApiCall\", \"successFull\");\r\n                setFragment(crFragment);\r\n                class_code = data.get_class().getCode();\r\n                Toast.makeText(getContext(),\"Class Created\" + class_code,Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return class_code;\r\n    }\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java	(revision 548feff79477ee8bd69cd790708cd0c3df5ca472)
--+++ app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java	(date 1609165614465)
--@@ -19,6 +19,9 @@
-- import com.attendo.data.model.Class;
-- import com.attendo.data.model.CreateClass;
-- import com.attendo.viewmodel.CreateClassViewModel;
--+import com.google.firebase.auth.FirebaseAuth;
--+import com.google.firebase.database.DatabaseReference;
--+import com.google.firebase.database.FirebaseDatabase;
-- 
-- import java.util.concurrent.atomic.AtomicReference;
-- 
--@@ -29,6 +32,9 @@
--     private CreateClassViewModel createClassViewModel;
--     private CrFragment crFragment;
--     private String class_code;
--+    private FirebaseAuth mAuth;
--+    private DatabaseReference databaseReference;
--+
-- 
--     private static final String ARG_PARAM1 = "param1";
--     private static final String ARG_PARAM2 = "param2";
--@@ -65,6 +71,9 @@
--         View view = inflater.inflate(R.layout.fragment_cr_details_input, container, false);
--         ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle("Create Class");
-- 
--+        mAuth = FirebaseAuth.getInstance();
--+        databaseReference = FirebaseDatabase.getInstance().getReference("Schedule");
--+
--        createClassViewModel =  new ViewModelProvider(this).get(CreateClassViewModel.class);
-- 
--         crFragment = new CrFragment();
--@@ -108,6 +117,9 @@
--                 Log.i("ApiCall", "successFull");
--                 setFragment(crFragment);
--                 class_code = data.get_class().getCode();
--+                String UserId = mAuth.getCurrentUser().getUid();
--+                databaseReference.child(UserId).child("Class_Code").setValue(class_code);
--+                databaseReference.child(UserId).child("Join_As").setValue("Cr");
--                 Toast.makeText(getContext(),"Class Created" + class_code,Toast.LENGTH_SHORT).show();
--             }
--         });
--Index: app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.JoinClass;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.JoinClassViewModel;\r\n\r\npublic class StudentDetailsInputFragment extends Fragment {\r\n\r\n\r\n    private EditText name,scholarid,email,classcode;\r\n    private Button btn;\r\n    private StudentFragment studentFragment;\r\n    private JoinClassViewModel joinClassViewModel;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudentDetailsInputFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static StudentDetailsInputFragment newInstance(String param1, String param2) {\r\n        StudentDetailsInputFragment fragment = new StudentDetailsInputFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_student_details_input, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Join Class\");\r\n\r\n        studentFragment = new StudentFragment();\r\n        joinClassViewModel = new ViewModelProvider(this).get(JoinClassViewModel.class);\r\n\r\n        name = view.findViewById(R.id.student_name_edittext);\r\n        scholarid = view.findViewById(R.id.student_scholar_id_edittext);\r\n        email = view.findViewById(R.id.student_email_edittext);\r\n        classcode = view.findViewById(R.id.student_class_code_edittext);\r\n\r\n        btn = view.findViewById(R.id.student_join_class_btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String Name = name.getText().toString();\r\n                String Scholarid = scholarid.getText().toString();\r\n                String EmailId = email.getText().toString();\r\n                String Class = classcode.getText().toString();\r\n                if(Name.length()>0 && Scholarid.length()>0 && EmailId.length()>0 && Class.length()>0){\r\n                    SendDataToServer();\r\n                }\r\n                else{\r\n                    Toast.makeText(getActivity(),\"Please fill all the fields\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void SendDataToServer() {\r\n        JoinClass joinClass = new JoinClass(classcode.getText().toString(),name.getText().toString(),email.getText().toString(),scholarid.getText().toString());\r\n        joinClassViewModel.setClassData(joinClass);\r\n        joinClassViewModel.getJoinResponse().observe(getActivity(), data -> {\r\n            if (data == null) {\r\n                Log.i(\"ApiCall\", \"Failed\");\r\n            } else {\r\n                Log.i(\"ApiCall\", \"successFull\");\r\n                Toast.makeText(getContext(),\"Class Joined\",Toast.LENGTH_SHORT).show();\r\n                setFragment(studentFragment);\r\n            }\r\n        });//P9k219\r\n    }\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(revision 548feff79477ee8bd69cd790708cd0c3df5ca472)
--+++ app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(date 1609167998738)
--@@ -21,6 +21,9 @@
-- import com.attendo.data.model.JoinClass;
-- import com.attendo.viewmodel.CreateClassViewModel;
-- import com.attendo.viewmodel.JoinClassViewModel;
--+import com.google.firebase.auth.FirebaseAuth;
--+import com.google.firebase.database.DatabaseReference;
--+import com.google.firebase.database.FirebaseDatabase;
-- 
-- public class StudentDetailsInputFragment extends Fragment {
-- 
--@@ -29,6 +32,8 @@
--     private Button btn;
--     private StudentFragment studentFragment;
--     private JoinClassViewModel joinClassViewModel;
--+    private FirebaseAuth mAuth;
--+    private DatabaseReference databaseReference;
-- 
--     private static final String ARG_PARAM1 = "param1";
--     private static final String ARG_PARAM2 = "param2";
--@@ -66,6 +71,9 @@
--         View view = inflater.inflate(R.layout.fragment_student_details_input, container, false);
--         ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle("Join Class");
-- 
--+        mAuth = FirebaseAuth.getInstance();
--+        databaseReference = FirebaseDatabase.getInstance().getReference("Schedule");
--+
--         studentFragment = new StudentFragment();
--         joinClassViewModel = new ViewModelProvider(this).get(JoinClassViewModel.class);
-- 
--@@ -102,11 +110,14 @@
--             if (data == null) {
--                 Log.i("ApiCall", "Failed");
--             } else {
--+                String UserId = mAuth.getCurrentUser().getUid();
--+                databaseReference.child(UserId).child("Class_Code").setValue(classcode.getText().toString());
--+                databaseReference.child(UserId).child("Join_As").setValue("Student");
--                 Log.i("ApiCall", "successFull");
--                 Toast.makeText(getContext(),"Class Joined",Toast.LENGTH_SHORT).show();
--                 setFragment(studentFragment);
--             }
---        });//P9k219
--+        });
--     }
-- 
--     private void setFragment(Fragment fragment) {
--@@ -115,4 +126,4 @@
--         fragmentTransaction.addToBackStack(null).commit();
--     }
-- 
---}
--\ No newline at end of file
--+}//gE8PMS
--\ No newline at end of file
--Index: app/src/main/java/com/attendo/ui/main/BottomNavMainActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.ui.main;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.Window;\r\nimport android.view.animation.AccelerateDecelerateInterpolator;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.ajts.androidmads.library.SQLiteToExcel;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.CreateAndJoinClassBottomSheetDialogFragment;\r\nimport com.attendo.Schedule.MultipleRecyclerViewFragment;\r\nimport com.attendo.data.database.SubDatabase;\r\nimport com.attendo.ui.calendar.FragmentCalender;\r\nimport com.attendo.ui.main.drawers.reminder.FragmentExamReminder;\r\n\r\nimport com.attendo.ui.main.drawers.account.FragmentAccountAndSettings;\r\nimport com.attendo.ui.main.menu.FragmentAbout;\r\nimport com.attendo.ui.sub.Fragment_Subject;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.android.material.transition.platform.MaterialFade;\r\n\r\nimport java.io.File;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class BottomNavMainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    @BindView(R.id.bottom_nav_bar)\r\n    BottomNavigationView bottomNavigationView;\r\n\r\n    @BindView(R.id.container_frame)\r\n    FrameLayout frameLayout;\r\n\r\n    @BindView(R.id.toolbar_bottom_nav)\r\n    Toolbar toolbar;\r\n\r\n    SubDatabase subDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().requestFeature(Window.FEATURE_ACTIVITY_TRANSITIONS);\r\n        getWindow().setEnterTransition(new MaterialFade().setDuration(300));\r\n        getWindow().setExitTransition(new MaterialFade().setDuration(300));\r\n        setContentView(R.layout.activity_bottom_nav_main);\r\n        ButterKnife.bind(this);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n\r\n\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(selectedListener);\r\n        setSupportActionBar(toolbar);\r\n\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.container_frame, new Fragment_Subject()).commit();\r\n\r\n        try {\r\n\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                // this will request for permission from the user if not yet granted\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\r\n            } else {\r\n\r\n                System.out.println(\"ERROR!!\");\r\n            }\r\n        }catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n    private Fragment selectedFragment = null;\r\n\r\n\r\n\r\n\r\n    private BottomNavigationView.OnNavigationItemSelectedListener selectedListener = new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n            MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n            MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n            enter.setDuration(400);\r\n            enter.setInterpolator(new AccelerateDecelerateInterpolator());\r\n            exit.setDuration(400);\r\n            exit.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n\r\n            switch (item.getItemId()){\r\n                case R.id.subjects_bottom_nav:\r\n                    Fragment subject = new Fragment_Subject();\r\n                    selectedFragment = subject;\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putString(\"key\",\"\");\r\n                    subject.setEnterTransition(enter);\r\n                    subject.setExitTransition(exit);\r\n                    subject.setArguments(bundle);\r\n                    getSupportFragmentManager().beginTransaction()\r\n                            .replace(R.id.container_frame, subject, \"subject_fragment\")\r\n                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\r\n                            .commit();\r\n\r\n                    break;\r\n\r\n                case R.id.reminder_bottom_nav:\r\n                    Fragment reminder = new FragmentExamReminder();\r\n                    selectedFragment = reminder;\r\n                    reminder.setEnterTransition(enter);\r\n                    reminder.setExitTransition(exit);\r\n                    getSupportFragmentManager().beginTransaction()\r\n                            .replace(R.id.container_frame, reminder, \"reminder_fragment\")\r\n                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\r\n                            .commit();\r\n                    break;\r\n\r\n                case R.id.schedule_bottom_nav:\r\n                    CreateAndJoinClassBottomSheetDialogFragment joinAndCreateFragment = new CreateAndJoinClassBottomSheetDialogFragment();\r\n                    joinAndCreateFragment.show(getSupportFragmentManager(), \"Create Class and Join Class Fragment \");\r\n                    break;\r\n\r\n                case R.id.calendar_bottom_nav:\r\n                    Fragment calendar = new FragmentCalender();\r\n                    selectedFragment = calendar;\r\n                    calendar.setEnterTransition(enter);\r\n                    calendar.setExitTransition(exit);\r\n                    getSupportFragmentManager().beginTransaction()\r\n                            .replace(R.id.container_frame, calendar, \"calendar_fragment\")\r\n                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\r\n                            .commit();\r\n                    break;\r\n\r\n                case R.id.account_bottom_nav:\r\n                    Fragment account = new FragmentAccountAndSettings();\r\n                    selectedFragment = account;\r\n                    account.setEnterTransition(enter);\r\n                    account.setExitTransition(exit);\r\n                    getSupportFragmentManager().beginTransaction()\r\n                            .replace(R.id.container_frame, account, \"account_fragment\")\r\n                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\r\n                            .commit();\r\n\r\n                    break;\r\n\r\n            }\r\n\r\n\r\n            return true;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.new_activity_app_bar_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        String path = Environment.getExternalStorageDirectory().getPath() + \"/Backup/\";\r\n        File file = new File(path);\r\n        if (!file.exists()) {\r\n            file.mkdirs();\r\n        }\r\n\r\n\r\n        Fragment aboutUs = new FragmentAbout();\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n\r\n        aboutUs.setEnterTransition(enter);\r\n        aboutUs.setExitTransition(exit);\r\n\r\n\r\n        int id = item.getItemId();\r\n\r\n        switch (id){\r\n            case R.id.aboutus:\r\n                getSupportFragmentManager().beginTransaction()\r\n                        .replace(R.id.container_frame, aboutUs)\r\n                        .addToBackStack(null)\r\n                        .commit();\r\n\r\n                break;\r\n            case R.id.privacypolicy:\r\n                Uri uri = Uri.parse(\"https://attendo.flycricket.io/privacy.html\");\r\n                startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n                break;\r\n            case R.id.exporttoexcel :\r\n                SQLiteToExcel sqLiteToExcel = new SQLiteToExcel(getApplicationContext(),subDatabase.DATABASE_NAME,path);\r\n\r\n                sqLiteToExcel.exportSingleTable(\"SubjectName\", \"student.xls\", new SQLiteToExcel.ExportListener() {\r\n                    @Override\r\n                    public void onStart() {\r\n                    }\r\n                    @Override\r\n                    public void onCompleted(String filePath) {\r\n                        Toast.makeText(getApplicationContext(),\"Successfully Exported\",Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    @Override\r\n                    public void onError(Exception e) {\r\n                        Toast.makeText(getApplicationContext(),\"ERROR\",Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n                break;\r\n\r\n\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/ui/main/BottomNavMainActivity.java	(revision 548feff79477ee8bd69cd790708cd0c3df5ca472)
--+++ app/src/main/java/com/attendo/ui/main/BottomNavMainActivity.java	(date 1609165981878)
--@@ -32,12 +32,17 @@
-- import com.attendo.ui.main.drawers.account.FragmentAccountAndSettings;
-- import com.attendo.ui.main.menu.FragmentAbout;
-- import com.attendo.ui.sub.Fragment_Subject;
--+import com.firebase.client.Firebase;
-- import com.google.android.gms.ads.MobileAds;
-- import com.google.android.gms.ads.initialization.InitializationStatus;
-- import com.google.android.gms.ads.initialization.OnInitializationCompleteListener;
-- import com.google.android.material.bottomnavigation.BottomNavigationView;
-- import com.google.android.material.transition.MaterialSharedAxis;
-- import com.google.android.material.transition.platform.MaterialFade;
--+import com.google.firebase.auth.FirebaseAuth;
--+import com.google.firebase.database.ChildEventListener;
--+import com.google.firebase.database.DatabaseReference;
--+import com.google.firebase.database.FirebaseDatabase;
-- 
-- import java.io.File;
-- 
--@@ -58,6 +63,8 @@
--     Toolbar toolbar;
-- 
--     SubDatabase subDatabase;
--+    private FirebaseAuth mAuth;
--+    private DatabaseReference databaseReference;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--@@ -75,6 +82,9 @@
--         });
-- 
-- 
--+        mAuth = FirebaseAuth.getInstance();
--+        databaseReference = FirebaseDatabase.getInstance().getReference("Schedule");
--+
--         bottomNavigationView.setOnNavigationItemSelectedListener(selectedListener);
--         setSupportActionBar(toolbar);
-- 
--@@ -139,6 +149,7 @@
--                     break;
-- 
--                 case R.id.schedule_bottom_nav:
--+                    String userid = mAuth.getCurrentUser().getUid();
--                     CreateAndJoinClassBottomSheetDialogFragment joinAndCreateFragment = new CreateAndJoinClassBottomSheetDialogFragment();
--                     joinAndCreateFragment.show(getSupportFragmentManager(), "Create Class and Join Class Fragment ");
--                     break;
--diff --git .idea/shelf/Uncommitted_changes_before_Update_at_12_27_2020_5_04_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_12_27_2020_5_04_PM__Default_Changelist_.xml
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM_[Default_Changelist]" date="1609203456561" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/28/2020 7:57 PM [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_7_57_PM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,55 +0,0 @@
--Index: app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.ui.main.BottomNavMainActivity;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class StudetntSettingsFragment extends BottomSheetDialogFragment {\r\n\r\n    private TextView text;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudetntSettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static StudetntSettingsFragment newInstance(String param1, String param2) {\r\n        StudetntSettingsFragment fragment = new StudetntSettingsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_studetnt_settings, container, false);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        text = view.findViewById(R.id.leaveClass_student_settings);\r\n\r\n        text.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String userId = mAuth.getCurrentUser().getUid();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Schedule\").child(userId);\r\n                ref.removeValue();\r\n                Toast.makeText(getActivity(),\"You leaved the Schedule\",Toast.LENGTH_SHORT).show();\r\n                Intent intent = new Intent(getActivity(), BottomNavMainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(revision 418686bc1e79736c2a0e10bf971eb2e2d9b168bf)
--+++ app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(date 1609200197269)
--@@ -72,8 +72,7 @@
--                 DatabaseReference ref = FirebaseDatabase.getInstance().getReference("Schedule").child(userId);
--                 ref.removeValue();
--                 Toast.makeText(getActivity(),"You leaved the Schedule",Toast.LENGTH_SHORT).show();
---                Intent intent = new Intent(getActivity(), BottomNavMainActivity.class);
---                startActivity(intent);
--+                dismiss();
--             }
--         });
-- 
--Index: app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.ui.main.drawers.account;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.SharedPreferences.Editor;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.transition.Explode;\r\nimport android.transition.Fade;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.AccelerateDecelerateInterpolator;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.transition.Transition;\r\nimport androidx.transition.TransitionInflater;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.CRSettingsFragment;\r\nimport com.attendo.Schedule.StudetntSettingsFragment;\r\nimport com.attendo.ui.auth.AuthenticationActivity;\r\nimport com.attendo.ui.main.drawers.FragmentAppRate;\r\nimport com.attendo.ui.main.drawers.FragmentBug;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendance;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendanceCriteria;\r\nimport com.attendo.ui.main.drawers.FragmentFAQ;\r\nimport com.attendo.ui.main.drawers.FragmentHelp;\r\nimport com.attendo.ui.main.drawers.FragmentInfo;\r\nimport com.codemybrainsout.ratingdialog.RatingDialog;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class FragmentAccountAndSettings extends Fragment {\r\n\r\n    @BindView(R.id.adView)\r\n    AdView adView;\r\n\r\n\r\n    private FragmentUserProfile fragmentUserProfile;\r\n    private FragmentHelp fragmentHelp;\r\n    private FragmentBug fragmentBug;\r\n    private FragmentAppRate fragmentAppRate;\r\n    private FragmentEditAttendanceCriteria fragmentEditAttendanceCriteria;\r\n    private FragmentEditAttendance fragmentEditAttendance;\r\n    private FragmentFAQ fragmentFAQ;\r\n    private FragmentInfo fragmentInfo;\r\n    TextView logout,Bug,Help,AppRate,AttCritaria,Att,name,college, aboutsettings, theme, routine;\r\n    CardView Profile;\r\n    BottomNavigationView bottomNavigationView;\r\n\r\n    FirebaseAuth mAuth;\r\n    DatabaseReference databaseReference;\r\n    FirebaseStorage firebaseStorage;\r\n    LottieAnimationView profileLottie;\r\n\r\n    //database for schedule\r\n    DatabaseReference scheduleReference;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public FragmentAccountAndSettings() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static FragmentAccountAndSettings newInstance(String param1, String param2) {\r\n        FragmentAccountAndSettings fragment = new FragmentAccountAndSettings();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_account_and_settings, container, false);\r\n        ButterKnife.bind(this, view);\r\n\r\n\r\n\r\n\r\n        fragmentAppRate = new FragmentAppRate();\r\n        fragmentBug = new FragmentBug();\r\n        fragmentEditAttendance = new FragmentEditAttendance();\r\n        fragmentUserProfile = new FragmentUserProfile();\r\n        fragmentEditAttendanceCriteria = new FragmentEditAttendanceCriteria();\r\n        fragmentHelp = new FragmentHelp();\r\n        fragmentFAQ = new FragmentFAQ();\r\n        fragmentInfo = new FragmentInfo();\r\n        name = view.findViewById(R.id.profile_name);\r\n        college = view.findViewById(R.id.profile_college);\r\n        profileLottie = view.findViewById(R.id.lottieanimationprofile);\r\n        bottomNavigationView = getActivity().findViewById(R.id.bottom_nav_bar);\r\n\r\n        bottomNavigationView.setVisibility(View.VISIBLE);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseStorage = FirebaseStorage.getInstance();\r\n        String user_id = mAuth.getCurrentUser().getUid();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"data\");\r\n\r\n        //schedule reference\r\n        scheduleReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if(snapshot.exists()) {\r\n                    name.setText(snapshot.child(user_id).child(\"username\").getValue(String.class));\r\n                    college.setText(snapshot.child(user_id).child(\"college\").getValue(String.class));\r\n                }\r\n                else{\r\n                    name.setText(\"user_name\");\r\n                    college.setText(\"institute_name\");\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n        AppRate = view.findViewById(R.id.rate_app);\r\n        Bug = view.findViewById(R.id.report_bug);\r\n        Profile = view.findViewById(R.id.view_account);\r\n        AttCritaria = view.findViewById(R.id.edit_attendance_criterion);\r\n        Help = view.findViewById(R.id.help_settings);\r\n        logout = view.findViewById(R.id.logout_settings);\r\n        theme = view.findViewById(R.id.theme);\r\n        routine = view.findViewById(R.id.routine_settings);\r\n\r\n        Transition transition = TransitionInflater.from(getContext()).inflateTransition(R.transition.card_transition);\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n\r\n        Explode explode = new Explode();\r\n        explode.setDuration(400);\r\n        explode.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        Fade fade = new Fade();\r\n        fade.setDuration(400);\r\n        fade.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        enter.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        enter.setDuration(400);\r\n\r\n        exit.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        exit.setDuration(400);\r\n\r\n\r\n        fragmentAppRate.setEnterTransition(enter);\r\n        fragmentAppRate.setExitTransition(exit);\r\n\r\n        fragmentHelp.setEnterTransition(enter);\r\n        fragmentHelp.setExitTransition(exit);\r\n\r\n        fragmentBug.setEnterTransition(enter);\r\n        fragmentBug.setExitTransition(exit);\r\n\r\n        fragmentEditAttendance.setEnterTransition(enter);\r\n        fragmentEditAttendance.setExitTransition(exit);\r\n\r\n        fragmentEditAttendanceCriteria.setEnterTransition(enter);\r\n        fragmentEditAttendanceCriteria.setExitTransition(exit);\r\n\r\n        fragmentInfo.setEnterTransition(enter);\r\n        fragmentInfo.setExitTransition(exit);\r\n\r\n\r\n        Drawable drawable = getActivity().getDrawable(R.drawable.app_icon_middle_portion_removed);\r\n\r\n        AppRate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                setFragment(fragmentAppRate);\r\n//                bottomNavigationView.setVisibility(View.GONE);\r\n                final RatingDialog ratingDialog = new RatingDialog.Builder(getContext())\r\n                        .icon(drawable)\r\n                        .threshold(2)\r\n                        .title(\"How was your experience with us?\")\r\n                        .titleTextColor(R.color.text_color_primary)\r\n                        .ratingBarColor(R.color.btn_positive_text_color)\r\n                        .playstoreUrl(\"https://play.google.com/store/apps/details?id=com.attendo\")\r\n                        .onThresholdCleared(new RatingDialog.Builder.RatingThresholdClearedListener() {\r\n                            @Override\r\n                            public void onThresholdCleared(RatingDialog ratingDialog, float rating, boolean thresholdCleared) {\r\n                                Handler handler = new Handler();\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        if(thresholdCleared && rating>3){\r\n                                            Toast.makeText(getContext(), \"Thank You So Much\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                        else if(thresholdCleared && rating<=3){\r\n                                            Toast.makeText(getContext(), \"Please Suggest Us\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                    }\r\n                                },600);\r\n                            }\r\n                        })\r\n                        .build();\r\n                ratingDialog.show();\r\n\r\n            }\r\n        });\r\n\r\n        Bug.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentBug);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        Profile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                FragmentTransaction fragmentManager = getFragmentManager().beginTransaction();\r\n                fragmentManager.replace(R.id.container_frame, fragmentUserProfile)\r\n                        .addSharedElement(Profile, \"card_expand_to_fit_screen\")\r\n                        .addSharedElement(profileLottie, \"profileExpand\")\r\n                        .addToBackStack(null)\r\n                        .commit();\r\n\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n\r\n                fragmentUserProfile.setSharedElementEnterTransition(transition);\r\n            }\r\n        });\r\n\r\n        AttCritaria.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               setFragment(fragmentEditAttendanceCriteria);\r\n            }\r\n        });\r\n\r\n        Help.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentFAQ);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        logout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getActivity(),\"Logout\",Toast.LENGTH_SHORT).show();\r\n                mAuth.signOut();\r\n                Intent intent = new Intent(getActivity(), AuthenticationActivity.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        //shared preferences for saving the radio button state of theme selection by user\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n        Editor editor = sharedPreferences.edit();\r\n\r\n        SharedPreferences load = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n\r\n\r\n        theme.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //theme selection by user code goes here\r\n\r\n                BottomSheetDialog themeSelect = new BottomSheetDialog(getContext(), R.style.BottomSheetDialog);\r\n                View themeBottomSheet = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_theme_select,\r\n                        (ConstraintLayout) view.findViewById(R.id.theme_select_bottom_sheet_container));\r\n                themeSelect.setContentView(themeBottomSheet);\r\n                themeSelect.show();\r\n                themeSelect.setDismissWithAnimation(true);\r\n\r\n                RadioGroup themeSelectRadioGroup = themeSelect.findViewById(R.id.theme_radio_group);\r\n                RadioButton darkTheme = themeSelect.findViewById(R.id.dark_theme_select);\r\n                RadioButton lightTheme = themeSelect.findViewById(R.id.light_theme_select);\r\n                RadioButton systemDefaultTheme = themeSelect.findViewById(R.id.system_default_theme_select);\r\n\r\n                //show the previous setting to the user\r\n                int selectedRadioButton = load.getInt(\"check_theme\", systemDefaultTheme.getId());\r\n                themeSelectRadioGroup.check(selectedRadioButton);\r\n\r\n                if(Build.VERSION.SDK_INT < Build.VERSION_CODES.O){\r\n                    systemDefaultTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    darkTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    lightTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                }\r\n\r\n\r\n                themeSelectRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                        i = radioGroup.getCheckedRadioButtonId();\r\n                        switch (i){\r\n                            case R.id.dark_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.light_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.system_default_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n\r\n                        }\r\n                        editor.putInt(\"check_theme\" , i);\r\n                        editor.commit();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n        routine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                scheduleReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if(snapshot.exists()){\r\n                            String typeOfUser = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Join_As\").getValue(String.class);\r\n                            String crr = \"Cr\";\r\n                            if(typeOfUser.equals(crr)){\r\n                                //set fragment for CR\r\n                                CRSettingsFragment settingsFragment = new CRSettingsFragment();\r\n                                settingsFragment.show(getParentFragmentManager(), \"Cr Settings\");\r\n\r\n                            }else{\r\n                                //set fragment for student\r\n                                StudetntSettingsFragment studetntSettingsFragment = new StudetntSettingsFragment();\r\n                                studetntSettingsFragment.show(getParentFragmentManager(), \"Students Settings\");\r\n                            }\r\n                        }else{\r\n                            Toast.makeText(getContext(), \"Please join or create a class\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(getContext(), \"Oops! something went wrong\", Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(\"Settings\");\r\n\r\n        //mobile ads\r\n\r\n        MobileAds.initialize(getContext(), new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n\r\n            }\r\n        });\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        adView.loadAd(adRequest);\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n    private void gotoUrl(String url){\r\n\r\n        Uri uri = Uri.parse(url);\r\n        startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n    }\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(revision 418686bc1e79736c2a0e10bf971eb2e2d9b168bf)
--+++ app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(date 1609199585650)
--@@ -85,6 +85,7 @@
--     FirebaseStorage firebaseStorage;
--     LottieAnimationView profileLottie;
-- 
--+
--     //database for schedule
--     DatabaseReference scheduleReference;
-- 
--Index: app/src/main/java/com/attendo/Schedule/CRSettingsFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.app.Fragment;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.ui.main.BottomNavMainActivity;\r\nimport com.attendo.ui.main.BottomNavMainActivity_ViewBinding;\r\nimport com.attendo.ui.main.drawers.account.FragmentAccountAndSettings;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class CRSettingsFragment extends BottomSheetDialogFragment {\r\n\r\n    TextView text;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public CRSettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n public static CRSettingsFragment newInstance(String param1, String param2) {\r\n        CRSettingsFragment fragment = new CRSettingsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_c_r_settings, container, false);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        text = view.findViewById(R.id.cr_leave_class_settings);\r\n\r\n        text.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String userId = mAuth.getCurrentUser().getUid();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Schedule\").child(userId);\r\n                ref.removeValue();\r\n                Toast.makeText(getActivity(),\"You leaved the Schedule\",Toast.LENGTH_SHORT).show();\r\n                Intent intent = new Intent(getActivity(), BottomNavMainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/CRSettingsFragment.java	(revision 418686bc1e79736c2a0e10bf971eb2e2d9b168bf)
--+++ app/src/main/java/com/attendo/Schedule/CRSettingsFragment.java	(date 1609200197255)
--@@ -70,8 +70,7 @@
--                 DatabaseReference ref = FirebaseDatabase.getInstance().getReference("Schedule").child(userId);
--                 ref.removeValue();
--                 Toast.makeText(getActivity(),"You leaved the Schedule",Toast.LENGTH_SHORT).show();
---                Intent intent = new Intent(getActivity(), BottomNavMainActivity.class);
---                startActivity(intent);
--+                dismiss();
--             }
--         });
-- 
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM_[Default_Changelist]" date="1609168085029" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_28_2020_10_07_AM_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/28/2020 10:07 AM [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,59 +0,0 @@
--Index: app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.graphics.Paint;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.JoinClass;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.JoinClassViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class StudentDetailsInputFragment extends Fragment {\r\n\r\n\r\n    private EditText name,scholarid,email,classcode;\r\n    private Button btn;\r\n    private StudentFragment studentFragment;\r\n    private JoinClassViewModel joinClassViewModel;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudentDetailsInputFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static StudentDetailsInputFragment newInstance(String param1, String param2) {\r\n        StudentDetailsInputFragment fragment = new StudentDetailsInputFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_student_details_input, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Join Class\");\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n\r\n        studentFragment = new StudentFragment();\r\n        joinClassViewModel = new ViewModelProvider(this).get(JoinClassViewModel.class);\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        name = view.findViewById(R.id.student_name_edittext);\r\n        scholarid = view.findViewById(R.id.student_scholar_id_edittext);\r\n        email = view.findViewById(R.id.student_email_edittext);\r\n        classcode = view.findViewById(R.id.student_class_code_edittext);\r\n\r\n        btn = view.findViewById(R.id.student_join_class_btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String Name = name.getText().toString();\r\n                String Scholarid = scholarid.getText().toString();\r\n                String EmailId = email.getText().toString();\r\n                String Class = classcode.getText().toString();\r\n                if(Name.length()>0 && Scholarid.length()>0 && EmailId.length()>0 && Class.length()>0){\r\n                    SendDataToServer();\r\n                    customLoadingDialog.startDialog(false);\r\n                }\r\n                else{\r\n                    Toast.makeText(getActivity(),\"Please fill all the fields\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void SendDataToServer() {\r\n        JoinClass joinClass = new JoinClass(classcode.getText().toString(),name.getText().toString(),email.getText().toString(),scholarid.getText().toString());\r\n        joinClassViewModel.setJoinResponse(joinClass);\r\n        joinClassViewModel.getJoinResponse().observe(getActivity(), data -> {\r\n            customLoadingDialog.dismissDialog();\r\n            if (data == null) {\r\n                Log.i(\"ApiCall\", \"Failed\");\r\n            } else {\r\n                String UserId = mAuth.getCurrentUser().getUid();\r\n                databaseReference.child(UserId).child(\"Class_Code\").setValue(classcode.getText().toString());\r\n                databaseReference.child(UserId).child(\"Join_As\").setValue(\"Student\");\r\n                Log.i(\"ApiCall\", \"successFull\");\r\n                Toast.makeText(getContext(),\"\" + data.getMessage(),Toast.LENGTH_LONG).show();\r\n                setFragment(studentFragment);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getParentFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n}//gE8PMS
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/Schedule/StudentDetailsInputFragment.java	(date 1609292255944)
--@@ -113,13 +113,14 @@
--         joinClassViewModel.getJoinResponse().observe(getActivity(), data -> {
--             customLoadingDialog.dismissDialog();
--             if (data == null) {
--+                Toast.makeText(getActivity(),"Failed to join wrong class code",Toast.LENGTH_SHORT).show();
--                 Log.i("ApiCall", "Failed");
--             } else {
--                 String UserId = mAuth.getCurrentUser().getUid();
--                 databaseReference.child(UserId).child("Class_Code").setValue(classcode.getText().toString());
--                 databaseReference.child(UserId).child("Join_As").setValue("Student");
--                 Log.i("ApiCall", "successFull");
---                Toast.makeText(getContext(),"" + data.getMessage(),Toast.LENGTH_LONG).show();
--+                Toast.makeText(getContext(),"" + data.getMessage(),Toast.LENGTH_SHORT).show();
--                 setFragment(studentFragment);
--             }
--         });
--Index: app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.Schedule;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.ui.main.BottomNavMainActivity;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class StudetntSettingsFragment extends BottomSheetDialogFragment {\r\n\r\n    private TextView text;\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseReference;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public StudetntSettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static StudetntSettingsFragment newInstance(String param1, String param2) {\r\n        StudetntSettingsFragment fragment = new StudetntSettingsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_studetnt_settings, container, false);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        text = view.findViewById(R.id.leaveClass_student_settings);\r\n\r\n        text.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String userId = mAuth.getCurrentUser().getUid();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Schedule\").child(userId);\r\n                ref.removeValue();\r\n                Toast.makeText(getActivity(),\"You left the Schedule\",Toast.LENGTH_SHORT).show();\r\n                dismiss();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/Schedule/StudetntSettingsFragment.java	(date 1609360072715)
--@@ -36,7 +36,6 @@
--     }
-- 
-- 
---    // TODO: Rename and change types and number of parameters
--     public static StudetntSettingsFragment newInstance(String param1, String param2) {
--         StudetntSettingsFragment fragment = new StudetntSettingsFragment();
--         Bundle args = new Bundle();
--Index: app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.attendo.ui.main.drawers.account;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.SharedPreferences.Editor;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.transition.Explode;\r\nimport android.transition.Fade;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.AccelerateDecelerateInterpolator;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.transition.Transition;\r\nimport androidx.transition.TransitionInflater;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.CRSettingsFragment;\r\nimport com.attendo.Schedule.StudetntSettingsFragment;\r\nimport com.attendo.ui.auth.AuthenticationActivity;\r\nimport com.attendo.ui.main.drawers.FragmentAppRate;\r\nimport com.attendo.ui.main.drawers.FragmentBug;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendance;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendanceCriteria;\r\nimport com.attendo.ui.main.drawers.FragmentFAQ;\r\nimport com.attendo.ui.main.drawers.FragmentHelp;\r\nimport com.attendo.ui.main.drawers.FragmentInfo;\r\nimport com.codemybrainsout.ratingdialog.RatingDialog;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class FragmentAccountAndSettings extends Fragment {\r\n\r\n    @BindView(R.id.adView)\r\n    AdView adView;\r\n\r\n\r\n    private FragmentUserProfile fragmentUserProfile;\r\n    private FragmentHelp fragmentHelp;\r\n    private FragmentBug fragmentBug;\r\n    private FragmentAppRate fragmentAppRate;\r\n    private FragmentEditAttendanceCriteria fragmentEditAttendanceCriteria;\r\n    private FragmentEditAttendance fragmentEditAttendance;\r\n    private FragmentFAQ fragmentFAQ;\r\n    private FragmentInfo fragmentInfo;\r\n    TextView logout,Bug,Help,AppRate,AttCritaria,Att,name,college, aboutsettings, theme, routine;\r\n    CardView Profile;\r\n    BottomNavigationView bottomNavigationView;\r\n\r\n    FirebaseAuth mAuth;\r\n    DatabaseReference databaseReference;\r\n    FirebaseStorage firebaseStorage;\r\n    LottieAnimationView profileLottie;\r\n\r\n\r\n    //database for schedule and necessary variables\r\n    DatabaseReference scheduleReference;\r\n    private String typeOfUser;\r\n\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public FragmentAccountAndSettings() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    public static FragmentAccountAndSettings newInstance(String param1, String param2) {\r\n        FragmentAccountAndSettings fragment = new FragmentAccountAndSettings();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_account_and_settings, container, false);\r\n        ButterKnife.bind(this, view);\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(\"Settings\");\r\n\r\n\r\n\r\n\r\n        fragmentAppRate = new FragmentAppRate();\r\n        fragmentBug = new FragmentBug();\r\n        fragmentEditAttendance = new FragmentEditAttendance();\r\n        fragmentUserProfile = new FragmentUserProfile();\r\n        fragmentEditAttendanceCriteria = new FragmentEditAttendanceCriteria();\r\n        fragmentHelp = new FragmentHelp();\r\n        fragmentFAQ = new FragmentFAQ();\r\n        fragmentInfo = new FragmentInfo();\r\n        name = view.findViewById(R.id.profile_name);\r\n        college = view.findViewById(R.id.profile_college);\r\n        profileLottie = view.findViewById(R.id.lottieanimationprofile);\r\n        bottomNavigationView = getActivity().findViewById(R.id.bottom_nav_bar);\r\n\r\n        bottomNavigationView.setVisibility(View.VISIBLE);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseStorage = FirebaseStorage.getInstance();\r\n        String user_id = mAuth.getCurrentUser().getUid();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"data\");\r\n\r\n        //schedule reference\r\n        scheduleReference = FirebaseDatabase.getInstance().getReference(\"Schedule\");\r\n        checkUserClass();\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if(snapshot.exists()) {\r\n                    name.setText(snapshot.child(user_id).child(\"username\").getValue(String.class));\r\n                    college.setText(snapshot.child(user_id).child(\"college\").getValue(String.class));\r\n                }\r\n                else{\r\n                    name.setText(\"user_name\");\r\n                    college.setText(\"institute_name\");\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        AppRate = view.findViewById(R.id.rate_app);\r\n        Bug = view.findViewById(R.id.report_bug);\r\n        Profile = view.findViewById(R.id.view_account);\r\n        AttCritaria = view.findViewById(R.id.edit_attendance_criterion);\r\n        Help = view.findViewById(R.id.help_settings);\r\n        logout = view.findViewById(R.id.logout_settings);\r\n        theme = view.findViewById(R.id.theme);\r\n        routine = view.findViewById(R.id.routine_settings);\r\n\r\n        Transition transition = TransitionInflater.from(getContext()).inflateTransition(R.transition.card_transition);\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n\r\n        Explode explode = new Explode();\r\n        explode.setDuration(400);\r\n        explode.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        Fade fade = new Fade();\r\n        fade.setDuration(400);\r\n        fade.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        enter.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        enter.setDuration(400);\r\n\r\n        exit.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        exit.setDuration(400);\r\n\r\n\r\n        fragmentAppRate.setEnterTransition(enter);\r\n        fragmentAppRate.setExitTransition(exit);\r\n\r\n        fragmentHelp.setEnterTransition(enter);\r\n        fragmentHelp.setExitTransition(exit);\r\n\r\n        fragmentBug.setEnterTransition(enter);\r\n        fragmentBug.setExitTransition(exit);\r\n\r\n        fragmentEditAttendance.setEnterTransition(enter);\r\n        fragmentEditAttendance.setExitTransition(exit);\r\n\r\n        fragmentEditAttendanceCriteria.setEnterTransition(enter);\r\n        fragmentEditAttendanceCriteria.setExitTransition(exit);\r\n\r\n        fragmentInfo.setEnterTransition(enter);\r\n        fragmentInfo.setExitTransition(exit);\r\n\r\n\r\n        Drawable drawable = getActivity().getDrawable(R.drawable.app_icon_middle_portion_removed);\r\n\r\n        AppRate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                setFragment(fragmentAppRate);\r\n//                bottomNavigationView.setVisibility(View.GONE);\r\n                final RatingDialog ratingDialog = new RatingDialog.Builder(getContext())\r\n                        .icon(drawable)\r\n                        .threshold(2)\r\n                        .title(\"How was your experience with us?\")\r\n                        .titleTextColor(R.color.text_color_primary)\r\n                        .ratingBarColor(R.color.btn_positive_text_color)\r\n                        .playstoreUrl(\"https://play.google.com/store/apps/details?id=com.attendo\")\r\n                        .onThresholdCleared(new RatingDialog.Builder.RatingThresholdClearedListener() {\r\n                            @Override\r\n                            public void onThresholdCleared(RatingDialog ratingDialog, float rating, boolean thresholdCleared) {\r\n                                Handler handler = new Handler();\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        if(thresholdCleared && rating>3){\r\n                                            Toast.makeText(getContext(), \"Thank You So Much\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                        else if(thresholdCleared && rating<=3){\r\n                                            Toast.makeText(getContext(), \"Please Suggest Us\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                    }\r\n                                },600);\r\n                            }\r\n                        })\r\n                        .build();\r\n                ratingDialog.show();\r\n\r\n            }\r\n        });\r\n\r\n        Bug.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentBug);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        Profile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                FragmentTransaction fragmentManager = getFragmentManager().beginTransaction();\r\n                fragmentManager.replace(R.id.container_frame, fragmentUserProfile)\r\n                        .addSharedElement(Profile, \"card_expand_to_fit_screen\")\r\n                        .addSharedElement(profileLottie, \"profileExpand\")\r\n                        .addToBackStack(null)\r\n                        .commit();\r\n\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n\r\n                fragmentUserProfile.setSharedElementEnterTransition(transition);\r\n            }\r\n        });\r\n\r\n        AttCritaria.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               setFragment(fragmentEditAttendanceCriteria);\r\n            }\r\n        });\r\n\r\n        Help.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentFAQ);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        logout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getActivity(),\"Logout\",Toast.LENGTH_SHORT).show();\r\n                mAuth.signOut();\r\n                Intent intent = new Intent(getActivity(), AuthenticationActivity.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        //shared preferences for saving the radio button state of theme selection by user\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n        Editor editor = sharedPreferences.edit();\r\n\r\n        SharedPreferences load = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n\r\n\r\n        theme.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //theme selection by user code goes here\r\n\r\n                BottomSheetDialog themeSelect = new BottomSheetDialog(getContext(), R.style.BottomSheetDialog);\r\n                View themeBottomSheet = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_theme_select,\r\n                        (ConstraintLayout) view.findViewById(R.id.theme_select_bottom_sheet_container));\r\n                themeSelect.setContentView(themeBottomSheet);\r\n                themeSelect.show();\r\n                themeSelect.setDismissWithAnimation(true);\r\n\r\n                RadioGroup themeSelectRadioGroup = themeSelect.findViewById(R.id.theme_radio_group);\r\n                RadioButton darkTheme = themeSelect.findViewById(R.id.dark_theme_select);\r\n                RadioButton lightTheme = themeSelect.findViewById(R.id.light_theme_select);\r\n                RadioButton systemDefaultTheme = themeSelect.findViewById(R.id.system_default_theme_select);\r\n\r\n                //show the previous setting to the user\r\n                int selectedRadioButton = load.getInt(\"check_theme\", systemDefaultTheme.getId());\r\n                themeSelectRadioGroup.check(selectedRadioButton);\r\n\r\n                if(Build.VERSION.SDK_INT < Build.VERSION_CODES.O){\r\n                    systemDefaultTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    darkTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    lightTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                }\r\n\r\n\r\n                themeSelectRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                        i = radioGroup.getCheckedRadioButtonId();\r\n                        switch (i){\r\n                            case R.id.dark_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.light_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.system_default_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n\r\n                        }\r\n                        editor.putInt(\"check_theme\" , i);\r\n                        editor.commit();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        routine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                switch (typeOfUser){\r\n                    case \"Cr\":\r\n                        CRSettingsFragment settingsFragment = new CRSettingsFragment();\r\n                        settingsFragment.show(getParentFragmentManager(), \"Cr Settings\");\r\n                        break;\r\n                    case \"Student\":\r\n                        StudetntSettingsFragment studetntSettingsFragment = new StudetntSettingsFragment();\r\n                        studetntSettingsFragment.show(getParentFragmentManager(), \"Students Settings\");\r\n                        break;\r\n                    case \"nothing\":\r\n                        Toast.makeText(getActivity(), \"Please join or create a class\", Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        //mobile ads\r\n\r\n        MobileAds.initialize(getContext(), new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n\r\n            }\r\n        });\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        adView.loadAd(adRequest);\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void checkUserClass() {\r\n        scheduleReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n                    String code = mAuth.getCurrentUser().getUid();\r\n                    typeOfUser = snapshot.child(code).child(\"Join_As\").getValue(String.class);\r\n                }else{\r\n\r\n                    typeOfUser = \"nothing\";\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(getContext(), \"Oops! something went wrong\", Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n    private void gotoUrl(String url){\r\n\r\n        Uri uri = Uri.parse(url);\r\n        startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n    }\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
----- app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(revision 831a44a99f38aefded2e5ed9523f12cfe3bfefdf)
--+++ app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(date 1609361409661)
--@@ -392,6 +392,7 @@
--             @Override
--             public void onClick(View view) {
--                 switch (typeOfUser){
--+
--                     case "Cr":
--                         CRSettingsFragment settingsFragment = new CRSettingsFragment();
--                         settingsFragment.show(getParentFragmentManager(), "Cr Settings");
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml
-===================================================================
---- .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ .idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM__Default_Changelist_.xml	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]" date="1609361436003" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_12_30_2020_3_50_PM_[Default_Changelist]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 12/30/2020 3:50 PM [Default Changelist]" />
--</changelist>
-\ No newline at end of file
-Index: app/src/main/java/com/attendo/data/api/ApiHelper.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.data.api;\r\n\r\nimport android.content.Context;\r\n\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.GetSchedule;\r\nimport com.attendo.data.model.JoinClass;\r\nimport com.attendo.data.model.Response;\r\nimport com.attendo.data.model.Reminder;\r\nimport com.attendo.data.model.ResponseCreateClass;\r\nimport com.attendo.data.model.ResponseGetSchedule;\r\nimport com.attendo.data.model.ResponseJoinClass;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.data.model.ScheduleEdit;\r\nimport com.attendo.retrofit.RetrofitProvider;\r\n\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.http.Body;\r\nimport retrofit2.http.POST;\r\n\r\npublic class ApiHelper implements ApiService\r\n{\r\n    private static ApiHelper instance;\r\n    private ApiService api;\r\n    public ApiHelper(Context context) {\r\n        api = RetrofitProvider.getInstance(context).create(ApiService.class);\r\n    }\r\n\r\n    public static ApiHelper getInstance(Context context){\r\n        if(instance == null){\r\n            synchronized (ApiHelper.class){\r\n                if(instance == null){\r\n                    instance = new ApiHelper(context);\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public Call<Response> sendReminder(Reminder reminder) {\r\n        return api.sendReminder(reminder);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Call<ResponseBody> cancelReminder(String id) {\r\n        return api.cancelReminder(id);\r\n    }\r\n\r\n    @Override\r\n    public Call<ResponseCreateClass> createclass(@Body CreateClass createClass){\r\n        return api.createclass(createClass);\r\n    }\r\n\r\n    @Override\r\n    public Call<ResponseJoinClass> joinclass(@Body JoinClass joinClass){\r\n        return api.joinclass(joinClass);\r\n    }\r\n\r\n    @POST(\"schedule\")\r\n    public Call<ResponseSchedule> createschedule(@Body Schedule schedule){\r\n        return api.createschedule(schedule);\r\n    }\r\n\r\n    @POST(\"schedule/edit\")\r\n    public Call<ResponseSchedule> updateschedule(@Body ScheduleEdit scheduleEdit){\r\n        return api.updateschedule(scheduleEdit);\r\n    }\r\n\r\n    @POST(\"schedule\")\r\n    public Call<ResponseGetSchedule> getschedule(@Body GetSchedule getSchedule){\r\n        return getschedule(getSchedule);\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/data/api/ApiHelper.java	(revision 7a2d785f2e66e5cb21ba0db78c23174d2223b6c2)
-+++ app/src/main/java/com/attendo/data/api/ApiHelper.java	(date 1609890777438)
-@@ -18,6 +18,7 @@
- import okhttp3.ResponseBody;
- import retrofit2.Call;
- import retrofit2.http.Body;
-+import retrofit2.http.GET;
- import retrofit2.http.POST;
- 
- public class ApiHelper implements ApiService
-@@ -70,7 +71,7 @@
-         return api.updateschedule(scheduleEdit);
-     }
- 
--    @POST("schedule")
-+    @GET("schedule")
-     public Call<ResponseGetSchedule> getschedule(@Body GetSchedule getSchedule){
-         return getschedule(getSchedule);
-     }
Index: app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport android.util.AndroidException;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.attendo.data.api.ApiHelper;\r\nimport com.attendo.data.model.GetSchedule;\r\nimport com.attendo.data.model.ResponseGetSchedule;\r\nimport com.attendo.data.model.ResponseSchedule;\r\nimport com.attendo.data.model.Schedule;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class GetScheduleViewModel extends AndroidViewModel {\r\n\r\n    private ApiHelper apiHelper;\r\n    private MutableLiveData<ResponseGetSchedule> scheduleResponse;\r\n\r\n    public GetScheduleViewModel(@NonNull Application application) {\r\n        super(application);\r\n        apiHelper = new ApiHelper(application);\r\n        scheduleResponse=new MutableLiveData<ResponseGetSchedule>();\r\n    }\r\n\r\n    public MutableLiveData<ResponseGetSchedule> getScheduleGetResponse(){\r\n        return scheduleResponse;\r\n    }\r\n\r\n    public void setScheduleGetResponse(String classId, String day){\r\n        apiHelper.getschedule(classId, day).enqueue(new Callback<ResponseGetSchedule>() {\r\n            @Override\r\n            public void onResponse(Call<ResponseGetSchedule> call, Response<ResponseGetSchedule> response) {\r\n                if(response.code() == 200 || response.code() == 201){\r\n                    scheduleResponse.postValue(response.body());\r\n                }else if(response.code() == 400 || response.code() == 404){\r\n                    scheduleResponse.postValue(null);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<ResponseGetSchedule> call, Throwable t) {\r\n                scheduleResponse.postValue(null);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ app/src/main/java/com/attendo/viewmodel/GetScheduleViewModel.java	(date 1610836862831)
@@ -50,6 +50,4 @@
             }
         });
     }
-
-
 }
Index: app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class TuesdayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static TuesdayCr getInstance(){\r\n        TuesdayCr tuesdayCr = new TuesdayCr();\r\n        return tuesdayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Tuesday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(date 1610413346490)
@@ -16,7 +16,6 @@
 public class TuesdayCr extends Fragment {
 
     private FloatingActionButton fb;
-    private AddSubjectDetailsFragment addSubjectDetailsFragment;
 
     public static TuesdayCr getInstance(){
         TuesdayCr tuesdayCr = new TuesdayCr();
@@ -29,7 +28,6 @@
         // Inflate the layout for this fragment
         View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);
 
-        addSubjectDetailsFragment = new AddSubjectDetailsFragment();
         fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);
 
         fb.setOnClickListener(new View.OnClickListener() {
Index: app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class FridayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static FridayCr getInstance(){\r\n        FridayCr fridayCr = new FridayCr();\r\n        return fridayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);\r\n\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Friday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Friday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(revision 1916f3e8abd5c4fa9b9ee824f66303cd9bafc7ec)
+++ app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(date 1610413346478)
@@ -29,7 +29,6 @@
         // Inflate the layout for this fragment
         View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);
 
-
         addSubjectDetailsFragment = new AddSubjectDetailsFragment();
         fb = view.findViewById(R.id.Schedule_add_subject_Friday);
 
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml
