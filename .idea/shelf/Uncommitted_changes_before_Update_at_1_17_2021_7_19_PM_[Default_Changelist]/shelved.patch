Index: app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.TimePicker;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.ScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String day;\r\n    private ScheduleViewModel scheduleViewModel;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private ProgressBar PB;\r\n\r\n    //class Id\r\n    private String class_Id;\r\n\r\n    //check if data is sent to server\r\n    private boolean check = false;\r\n\r\n    TimePicker timePicker;\r\n    String timePickerTime;\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        //initial setting of data\r\n        scheduleViewModel = new ViewModelProvider(this).get(ScheduleViewModel.class);\r\n        class_Id = firebaseScheduleViewModel.RetrieveClassId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n        // Bundle bundle = this.getArguments();\r\n        // String day = bundle.getString(\"day\");\r\n        // String edit-subject = bundle.getString(\"subject\");\r\n        // String edit-faculty = bundle.getString(\"faculty\");\r\n        // String edit-time = bundle.getString(\"time\");\r\n\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        PB = view.findViewById(R.id.progress_bar_add_subject_details);\r\n        PB.setVisibility(View.INVISIBLE);\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n        timePicker = view.findViewById(R.id.add_sub_details_time_picker);\r\n\r\n        timePicker.setOnTimeChangedListener(new TimePicker.OnTimeChangedListener() {\r\n            @Override\r\n            public void onTimeChanged(TimePicker timePicker, int hourOfTheDay, int minute) {\r\n                if(hourOfTheDay > 12){\r\n                    int hour = hourOfTheDay;\r\n                    timePickerTime = hour - 12 + \":\" + minute + \" \" + \"pm\";\r\n                }else{\r\n                    timePickerTime = hourOfTheDay + \":\" + minute + \" \" + \"am\";\r\n                }\r\n            }\r\n        });\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = timePickerTime;\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && day.length() > 0) {\r\n                    customLoadingDialog.startDialog(false);\r\n                    sendDataToServer();\r\n                    if(check){\r\n                        celebration.setVisibility(View.VISIBLE);\r\n                        celebration.playAnimation();\r\n                        dismiss();\r\n                        check = false;\r\n                    }else{\r\n                        Toast.makeText(getContext(), \"Saving Subject Details\", Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        day = parent.getItemAtPosition(position).toString();\r\n        day = day.toLowerCase();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n\r\n\r\n    private void sendDataToServer(){\r\n        if(class_Id != null){\r\n            Schedule schedule = new Schedule(firebaseScheduleViewModel.RetrieveClassId(), day, timePickerTime, subject.getText().toString(), faculty.getText().toString());\r\n            scheduleViewModel.setScheduleResponse(schedule);\r\n            //Toast.makeText(getActivity(),\"\"+firebaseScheduleViewModel.RetrieveClassId()+\" \"+day+\" \"+time.getText().toString()+\" \"+subject.getText().toString()+\" \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n            scheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                if (data == null) {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                    Log.i(\"ApiCall\", \"Failed\");\r\n                    check = true;\r\n                } else {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Log.i(\"ApiCall\", \"successFull\");\r\n                    String scheduleId = data.getSchedule().get_id();\r\n                    firebaseScheduleViewModel.AddClassScheduleId(scheduleId);\r\n                    Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    check = true;\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    },600);\r\n                }\r\n            });\r\n        }else{\r\n            Toast.makeText(getContext(), \"Please Wait!\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(revision f620bbd56a01faea5fff92fcbfbb15575dffb9a0)
+++ app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(date 1610878485589)
@@ -75,7 +75,6 @@
         // String edit-time = bundle.getString("time");
 
         firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);
-
         customLoadingDialog = new CustomLoadingDialog(getActivity());
 
         PB = view.findViewById(R.id.progress_bar_add_subject_details);
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_10_2021_8_42_PM__Default_Changelist_.xml
