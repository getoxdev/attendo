Index: app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.TimePicker;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.ScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String day;\r\n    private ScheduleViewModel scheduleViewModel;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private ProgressBar PB;\r\n\r\n    //class Id\r\n    private String class_Id;\r\n\r\n    //check if data is sent to server\r\n    private boolean check = false;\r\n\r\n    TimePicker timePicker;\r\n    String timePickerTime;\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        //initial setting of data\r\n        scheduleViewModel = new ViewModelProvider(this).get(ScheduleViewModel.class);\r\n        class_Id = firebaseScheduleViewModel.RetrieveClassId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n        // Bundle bundle = this.getArguments();\r\n        // String day = bundle.getString(\"day\");\r\n        // String edit-subject = bundle.getString(\"subject\");\r\n        // String edit-faculty = bundle.getString(\"faculty\");\r\n        // String edit-time = bundle.getString(\"time\");\r\n\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        PB = view.findViewById(R.id.progress_bar_add_subject_details);\r\n        PB.setVisibility(View.INVISIBLE);\r\n\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n        timePicker = view.findViewById(R.id.add_sub_details_time_picker);\r\n\r\n        timePicker.setOnTimeChangedListener(new TimePicker.OnTimeChangedListener() {\r\n            @Override\r\n            public void onTimeChanged(TimePicker timePicker, int hourOfTheDay, int minute) {\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.HOUR, hourOfTheDay);\r\n                calendar.set(Calendar.MINUTE, minute);\r\n                if(hourOfTheDay >= 12){\r\n                    Date time = calendar.getTime();\r\n                    timePickerTime = DateFormat.getTimeInstance(DateFormat.SHORT).format(time);\r\n                    Log.d(\"TimeFormatPM\", timePickerTime);\r\n                }else{\r\n                    Date time = calendar.getTime();\r\n                    timePickerTime = DateFormat.getTimeInstance(DateFormat.SHORT).format(time);\r\n                    Log.d(\"TimeFormatAM\", timePickerTime);\r\n                }\r\n\r\n\r\n//                if(hourOfTheDay > 12){\r\n//                    int hour = hourOfTheDay;\r\n//                    timePickerTime = hour - 12 + \":\" + minute + \" \" + \"pm\";\r\n//                }else{\r\n//                    timePickerTime = hourOfTheDay + \":\" + minute + \" \" + \"am\";\r\n//                }\r\n            }\r\n        });\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = timePickerTime;\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && day.length() > 0) {\r\n                    customLoadingDialog.startDialog(false);\r\n                    sendDataToServer();\r\n                    if(check){\r\n                        celebration.setVisibility(View.VISIBLE);\r\n                        celebration.playAnimation();\r\n                        dismiss();\r\n                        check = false;\r\n                    }else{\r\n                        Toast.makeText(getContext(), \"Saving Subject Details\", Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        day = parent.getItemAtPosition(position).toString();\r\n        day = day.toLowerCase();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n\r\n\r\n    private void sendDataToServer(){\r\n        if(class_Id != null){\r\n            Schedule schedule = new Schedule(firebaseScheduleViewModel.RetrieveClassId(), day, timePickerTime, subject.getText().toString(), faculty.getText().toString());\r\n            scheduleViewModel.setScheduleResponse(schedule);\r\n            //Toast.makeText(getActivity(),\"\"+firebaseScheduleViewModel.RetrieveClassId()+\" \"+day+\" \"+time.getText().toString()+\" \"+subject.getText().toString()+\" \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n            scheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                if (data == null) {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                    Log.i(\"ApiCall\", \"Failed\");\r\n                    check = true;\r\n                } else {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Log.i(\"ApiCall\", \"successFull\");\r\n                    String scheduleId = data.getSchedule().get_id();\r\n                    Log.i(\"schedule id \",scheduleId);\r\n                    firebaseScheduleViewModel.AddClassScheduleId(scheduleId);\r\n                    SharedPreferences pref = getActivity().getSharedPreferences(\"MyPref\", 0);\r\n                    SharedPreferences.Editor editor = pref.edit();\r\n                    editor.putString(\"Schedule_Id\",scheduleId);\r\n                    editor.commit();\r\n                    Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    check = true;\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    },600);\r\n                }\r\n            });\r\n        }else{\r\n            Toast.makeText(getContext(), \"Please Wait!\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
+++ app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(date 1611020830908)
@@ -73,11 +73,7 @@
         // Inflate the layout for this fragment
         View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);
 
-        // Bundle bundle = this.getArguments();
-        // String day = bundle.getString("day");
-        // String edit-subject = bundle.getString("subject");
-        // String edit-faculty = bundle.getString("faculty");
-        // String edit-time = bundle.getString("time");
+
 
         firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);
         customLoadingDialog = new CustomLoadingDialog(getActivity());
Index: app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.ui.main.drawers.account;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.SharedPreferences.Editor;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.transition.Explode;\r\nimport android.transition.Fade;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.AccelerateDecelerateInterpolator;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.transition.Transition;\r\nimport androidx.transition.TransitionInflater;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.ajts.androidmads.library.SQLiteToExcel;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.CRSettingsFragment;\r\nimport com.attendo.Schedule.StudentFragment;\r\nimport com.attendo.Schedule.StudetntSettingsFragment;\r\nimport com.attendo.data.database.SubDatabase;\r\nimport com.attendo.ui.auth.AuthenticationActivity;\r\nimport com.attendo.ui.main.drawers.FragmentAppRate;\r\nimport com.attendo.ui.main.drawers.FragmentBug;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendance;\r\nimport com.attendo.ui.main.drawers.FragmentEditAttendanceCriteria;\r\nimport com.attendo.ui.main.drawers.FragmentFAQ;\r\nimport com.attendo.ui.main.drawers.FragmentHelp;\r\nimport com.attendo.ui.main.drawers.FragmentInfo;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.codemybrainsout.ratingdialog.RatingDialog;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.transition.MaterialSharedAxis;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\n\r\nimport java.io.File;\r\n\r\nimport butterknife.ButterKnife;\r\n\r\nimport static com.facebook.FacebookSdk.getApplicationContext;\r\n\r\npublic class FragmentAccountAndSettings extends Fragment {\r\n\r\n//    @BindView(R.id.adView)\r\n//    AdView adView;\r\n\r\n\r\n    private FragmentUserProfile fragmentUserProfile;\r\n    private StudentFragment studentFragment;\r\n    private FragmentHelp fragmentHelp;\r\n    private FragmentBug fragmentBug;\r\n    private FragmentAppRate fragmentAppRate;\r\n    private FragmentEditAttendanceCriteria fragmentEditAttendanceCriteria;\r\n    private FragmentEditAttendance fragmentEditAttendance;\r\n    private FragmentFAQ fragmentFAQ;\r\n    private FragmentInfo fragmentInfo;\r\n    SubDatabase subDatabase;\r\n    TextView logout,Bug,Help,AppRate,AttCritaria,name,college, theme, routine,excel;\r\n    CardView Profile;\r\n    BottomNavigationView bottomNavigationView;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n\r\n    FirebaseAuth mAuth;\r\n    DatabaseReference databaseReference;\r\n    FirebaseStorage firebaseStorage;\r\n    LottieAnimationView profileLottie;\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_account_and_settings, container, false);\r\n        ButterKnife.bind(this, view);\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().setTitle(\"Settings\");\r\n\r\n\r\n\r\n        fragmentAppRate = new FragmentAppRate();\r\n        studentFragment = new StudentFragment();\r\n        fragmentBug = new FragmentBug();\r\n        fragmentEditAttendance = new FragmentEditAttendance();\r\n        fragmentUserProfile = new FragmentUserProfile();\r\n        fragmentEditAttendanceCriteria = new FragmentEditAttendanceCriteria();\r\n        fragmentHelp = new FragmentHelp();\r\n        fragmentFAQ = new FragmentFAQ();\r\n        fragmentInfo = new FragmentInfo();\r\n        name = view.findViewById(R.id.profile_name);\r\n        college = view.findViewById(R.id.profile_college);\r\n        profileLottie = view.findViewById(R.id.lottieanimationprofile);\r\n        bottomNavigationView = getActivity().findViewById(R.id.bottom_nav_bar);\r\n\r\n        bottomNavigationView.setVisibility(View.VISIBLE);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n        firebaseStorage = FirebaseStorage.getInstance();\r\n        String user_id = mAuth.getCurrentUser().getUid();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(\"data\");\r\n\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if(snapshot.exists()) {\r\n                    name.setText(snapshot.child(user_id).child(\"username\").getValue(String.class));\r\n                    college.setText(snapshot.child(user_id).child(\"college\").getValue(String.class));\r\n                }\r\n                else{\r\n                    name.setText(\"user_name\");\r\n                    college.setText(\"institute_name\");\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        AppRate = view.findViewById(R.id.rate_app);\r\n        Bug = view.findViewById(R.id.report_bug);\r\n        Profile = view.findViewById(R.id.view_account);\r\n        AttCritaria = view.findViewById(R.id.edit_attendance_criterion);\r\n        Help = view.findViewById(R.id.help_settings);\r\n        logout = view.findViewById(R.id.logout_settings);\r\n        theme = view.findViewById(R.id.theme);\r\n        routine = view.findViewById(R.id.routine_settings);\r\n        excel = view.findViewById(R.id.excel);\r\n\r\n        Transition transition = TransitionInflater.from(getContext()).inflateTransition(R.transition.card_transition);\r\n\r\n        MaterialSharedAxis enter = new MaterialSharedAxis(MaterialSharedAxis.Z, true);\r\n        MaterialSharedAxis exit = new MaterialSharedAxis(MaterialSharedAxis.Z, false);\r\n\r\n        Explode explode = new Explode();\r\n        explode.setDuration(400);\r\n        explode.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        Fade fade = new Fade();\r\n        fade.setDuration(400);\r\n        fade.setInterpolator(new AccelerateDecelerateInterpolator());\r\n\r\n        enter.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        enter.setDuration(400);\r\n\r\n        exit.setInterpolator(new AccelerateDecelerateInterpolator());\r\n        exit.setDuration(400);\r\n\r\n\r\n        fragmentAppRate.setEnterTransition(enter);\r\n        fragmentAppRate.setExitTransition(exit);\r\n\r\n        fragmentHelp.setEnterTransition(enter);\r\n        fragmentHelp.setExitTransition(exit);\r\n\r\n        fragmentBug.setEnterTransition(enter);\r\n        fragmentBug.setExitTransition(exit);\r\n\r\n        fragmentEditAttendance.setEnterTransition(enter);\r\n        fragmentEditAttendance.setExitTransition(exit);\r\n\r\n        fragmentEditAttendanceCriteria.setEnterTransition(enter);\r\n        fragmentEditAttendanceCriteria.setExitTransition(exit);\r\n\r\n        fragmentInfo.setEnterTransition(enter);\r\n        fragmentInfo.setExitTransition(exit);\r\n\r\n\r\n        Drawable drawable = getActivity().getDrawable(R.drawable.app_icon_middle_portion_removed);\r\n\r\n        AppRate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                setFragment(fragmentAppRate);\r\n//                bottomNavigationView.setVisibility(View.GONE);\r\n                final RatingDialog ratingDialog = new RatingDialog.Builder(getContext())\r\n                        .icon(drawable)\r\n                        .threshold(2)\r\n                        .title(\"How was your experience with us?\")\r\n                        .titleTextColor(R.color.text_color_primary)\r\n                        .ratingBarColor(R.color.btn_positive_text_color)\r\n                        .playstoreUrl(\"https://play.google.com/store/apps/details?id=com.attendo\")\r\n                        .onThresholdCleared(new RatingDialog.Builder.RatingThresholdClearedListener() {\r\n                            @Override\r\n                            public void onThresholdCleared(RatingDialog ratingDialog, float rating, boolean thresholdCleared) {\r\n                                Handler handler = new Handler();\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        if(thresholdCleared && rating>3){\r\n                                            Toast.makeText(getContext(), \"Thank You So Much\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                        else if(thresholdCleared && rating<=3){\r\n                                            Toast.makeText(getContext(), \"Please Suggest Us\", Toast.LENGTH_SHORT).show();\r\n                                            gotoUrl(\"https://play.google.com/store/apps/details?id=com.attendo\");\r\n                                            ratingDialog.dismiss();\r\n                                        }\r\n                                    }\r\n                                },600);\r\n                            }\r\n                        })\r\n                        .build();\r\n                ratingDialog.show();\r\n\r\n            }\r\n        });\r\n\r\n        Bug.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentBug);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        Profile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                FragmentTransaction fragmentManager = getFragmentManager().beginTransaction();\r\n                fragmentManager.replace(R.id.container_frame, fragmentUserProfile)\r\n                        .addSharedElement(Profile, \"card_expand_to_fit_screen\")\r\n                        .addSharedElement(profileLottie, \"profileExpand\")\r\n                        .addToBackStack(null)\r\n                        .commit();\r\n\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n\r\n                fragmentUserProfile.setSharedElementEnterTransition(transition);\r\n            }\r\n        });\r\n\r\n        AttCritaria.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               setFragment(fragmentEditAttendanceCriteria);\r\n            }\r\n        });\r\n\r\n        Help.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setFragment(fragmentFAQ);\r\n                bottomNavigationView.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        logout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                NullSharedPreferenceDataNUll();\r\n                Toast.makeText(getActivity(),\"Logout\",Toast.LENGTH_SHORT).show();\r\n                mAuth.signOut();\r\n                Intent intent = new Intent(getActivity(), AuthenticationActivity.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity(intent);\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n\r\n        //shared preferences for saving the radio button state of theme selection by user\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n        Editor editor = sharedPreferences.edit();\r\n\r\n        SharedPreferences load = getActivity().getSharedPreferences(\"MYPREF\" , Context.MODE_PRIVATE);\r\n\r\n\r\n        theme.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //theme selection by user code goes here\r\n\r\n                BottomSheetDialog themeSelect = new BottomSheetDialog(getContext(), R.style.BottomSheetDialog);\r\n                View themeBottomSheet = LayoutInflater.from(getContext()).inflate(R.layout.bottom_sheet_theme_select,\r\n                        (ConstraintLayout) view.findViewById(R.id.theme_select_bottom_sheet_container));\r\n                themeSelect.setContentView(themeBottomSheet);\r\n                themeSelect.show();\r\n                themeSelect.setDismissWithAnimation(true);\r\n\r\n                RadioGroup themeSelectRadioGroup = themeSelect.findViewById(R.id.theme_radio_group);\r\n                RadioButton darkTheme = themeSelect.findViewById(R.id.dark_theme_select);\r\n                RadioButton lightTheme = themeSelect.findViewById(R.id.light_theme_select);\r\n                RadioButton systemDefaultTheme = themeSelect.findViewById(R.id.system_default_theme_select);\r\n\r\n                //show the previous setting to the user\r\n                int selectedRadioButton = load.getInt(\"check_theme\", systemDefaultTheme.getId());\r\n                themeSelectRadioGroup.check(selectedRadioButton);\r\n\r\n                if(Build.VERSION.SDK_INT < Build.VERSION_CODES.O){\r\n                    systemDefaultTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    darkTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                    lightTheme.setLayoutDirection(View.LAYOUT_DIRECTION_LTR);\r\n                }\r\n\r\n\r\n                themeSelectRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                        i = radioGroup.getCheckedRadioButtonId();\r\n                        switch (i){\r\n                            case R.id.dark_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.light_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n                            case R.id.system_default_theme_select:\r\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n                                themeSelect.dismiss();\r\n                                break;\r\n\r\n                        }\r\n                        editor.putInt(\"check_theme\" , i);\r\n                        editor.commit();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        routine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                boolean ans = RetrieveSharedPreferenceData();\r\n                if(ans){\r\n                String type = firebaseScheduleViewModel.RetrieveClassJoinAs();\r\n                if(type == null){\r\n                    Toast.makeText(getActivity(), \"Please wait !\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    switch (type) {\r\n                        case \"Cr\":\r\n                            CRSettingsFragment settingsFragment = new CRSettingsFragment();\r\n                            settingsFragment.show(getParentFragmentManager(), \"Cr Settings\");\r\n                            break;\r\n                        case \"Student\":\r\n                            StudetntSettingsFragment studetntSettingsFragment = new StudetntSettingsFragment();\r\n                            studetntSettingsFragment.show(getParentFragmentManager(), \"Students Settings\");\r\n                            break;\r\n                        case \"nothing\":\r\n                            Toast.makeText(getActivity(), \"Please join or create a class \", Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                        default:\r\n                            Toast.makeText(getActivity(), \"Please wait !\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n                }\r\n            }\r\n        });\r\n\r\n        String directory_path = Environment.getExternalStorageDirectory().getPath() + \"/Attendo/\";\r\n        File file = new File(directory_path);\r\n        if (!file.exists()) {\r\n            file.mkdirs();\r\n        }\r\n\r\n\r\n        excel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ExportToExcel(directory_path);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        //mobile ads\r\n\r\n//        MobileAds.initialize(getContext(), new OnInitializationCompleteListener() {\r\n//            @Override\r\n//            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n//\r\n//            }\r\n//        });\r\n//\r\n//        AdRequest adRequest = new AdRequest.Builder().build();\r\n//        adView.loadAd(adRequest);\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private boolean RetrieveSharedPreferenceData() {\r\n        SharedPreferences pref = getActivity().getSharedPreferences(\"MyPref\", 0);\r\n        String JOIN =pref.getString(\"Class_Join_As\",null);\r\n        if(JOIN == null)\r\n            return true;\r\n        switch (JOIN) {\r\n            case \"Cr\":\r\n                CRSettingsFragment settingsFragment = new CRSettingsFragment();\r\n                settingsFragment.show(getParentFragmentManager(), \"Cr Settings\");\r\n                break;\r\n            case \"Student\":\r\n                StudetntSettingsFragment studetntSettingsFragment = new StudetntSettingsFragment();\r\n                studetntSettingsFragment.show(getParentFragmentManager(), \"Students Settings\");\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private void NullSharedPreferenceDataNUll() {\r\n        SharedPreferences pref = this.getActivity().getSharedPreferences(\"MyPref\", 0);\r\n        SharedPreferences.Editor editor = pref.edit();\r\n        editor.putString(\"Class_Id\",null);\r\n        editor.putString(\"Class_Join_As\",null);\r\n        editor.commit();\r\n    }\r\n\r\n\r\n    public void ExportToExcel(String path)\r\n    {\r\n        SQLiteToExcel sqLiteToExcel = new SQLiteToExcel(getApplicationContext(),subDatabase.DATABASE_NAME,path);\r\n\r\n        sqLiteToExcel.exportSingleTable(\"SubjectName\", \"student.xls\", new SQLiteToExcel.ExportListener() {\r\n            @Override\r\n            public void onStart() {\r\n            }\r\n            @Override\r\n            public void onCompleted(String filePath) {\r\n                //Toast.makeText(getApplicationContext(),\"Successfully Exported\",Toast.LENGTH_SHORT).show();\r\n                Snackbar.make(getView(),\"Successfully Exported. Please check the AttendO folder in your Internal Storage\", Snackbar.LENGTH_LONG)\r\n                        .setAnimationMode(Snackbar.ANIMATION_MODE_SLIDE)\r\n                        .show();\r\n\r\n            }\r\n            @Override\r\n            public void onError(Exception e) {\r\n                //Toast.makeText(getApplicationContext(),\"ERROR\",Toast.LENGTH_SHORT).show();\r\n                Snackbar.make(getView(), \"Oops, something went wrong !\", Snackbar.LENGTH_SHORT)\r\n                        .setAnimationMode(Snackbar.ANIMATION_MODE_SLIDE)\r\n                        .show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.addToBackStack(null).commit();\r\n    }\r\n\r\n    private void gotoUrl(String url){\r\n\r\n        Uri uri = Uri.parse(url);\r\n        startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
+++ app/src/main/java/com/attendo/ui/main/drawers/account/FragmentAccountAndSettings.java	(date 1611021291580)
@@ -431,7 +431,7 @@
 
     private boolean RetrieveSharedPreferenceData() {
         SharedPreferences pref = getActivity().getSharedPreferences("MyPref", 0);
-        String JOIN =pref.getString("Class_Join_As",null);
+        String JOIN =pref.getString("Class_Join_As_KEY",null);
         if(JOIN == null)
             return true;
         switch (JOIN) {
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM__Default_Changelist_.xml	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM__Default_Changelist_.xml	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM_[Default_Changelist]" date="1610411414708" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 1/11/2021 7:29 PM [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM_[Default_Changelist]/shelved.patch	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_7_29_PM_[Default_Changelist]/shelved.patch	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
@@ -1,60 +0,0 @@
-Index: app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.Schedule;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.Interface.UpdateRecyclerView;\r\nimport com.attendo.Schedule.Model.SubjectRoutine;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.data.model.Schedule;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.AddScheduleViewModel;\r\nimport com.attendo.viewmodel.CreateClassViewModel;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.GetScheduleViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class AddSubjectDetailsFragment extends BottomSheetDialogFragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    private EditText subject, faculty, time;\r\n    private Button submit;\r\n    private LottieAnimationView celebration;\r\n    private Spinner spi;\r\n    public String day;\r\n    private AddScheduleViewModel addScheduleViewModel;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n\r\n    private ProgressBar PB;\r\n\r\n    //class Id\r\n    private String class_Id;\r\n\r\n    //check if data is sent to server\r\n    private boolean check = false;\r\n\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        //initial setting of data\r\n        addScheduleViewModel = new ViewModelProvider(this).get(AddScheduleViewModel.class);\r\n        class_Id = firebaseScheduleViewModel.RetrieveClassId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add_subject_details, container, false);\r\n\r\n       // Bundle bundle = this.getArguments();\r\n       // String day = bundle.getString(\"day\");\r\n       // String edit-subject = bundle.getString(\"subject\");\r\n        // String edit-faculty = bundle.getString(\"faculty\");\r\n        // String edit-time = bundle.getString(\"time\");\r\n\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n\r\n        PB = view.findViewById(R.id.progress_bar_add_subject_details);\r\n        PB.setVisibility(View.INVISIBLE);\r\n        spi = view.findViewById(R.id.spinner);\r\n        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.weekday, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spi.setAdapter(adapter);\r\n        spi.setOnItemSelectedListener(this);\r\n\r\n        celebration = view.findViewById(R.id.lottie_animation_add_subject_details);\r\n        celebration.setVisibility(View.INVISIBLE);\r\n\r\n        subject = view.findViewById(R.id.add_subject_bottomsheet);\r\n        faculty = view.findViewById(R.id.add_faculty);\r\n        time = view.findViewById(R.id.add_Time);\r\n        submit = view.findViewById(R.id.add_subject_btn);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String sub = subject.getText().toString();\r\n                String teacher = faculty.getText().toString();\r\n                String clock = time.getText().toString();\r\n                if (sub.length() > 0 && teacher.length() > 0 && clock.length() > 0 && day.length() > 0) {\r\n                    customLoadingDialog.startDialog(false);\r\n                    sendDataToServer();\r\n                    if(check){\r\n                        celebration.setVisibility(View.VISIBLE);\r\n                        celebration.playAnimation();\r\n                        dismiss();\r\n                        check = false;\r\n                    }else{\r\n                        Toast.makeText(getContext(), \"Saving Subject Details\", Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    Toast.makeText(getActivity(), \"Please fill all details\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n        day = parent.getItemAtPosition(position).toString();\r\n        day = day.toLowerCase();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n    }\r\n\r\n//    private void checkUser() {\r\n//        databaseReference.orderByKey().equalTo(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n//            @Override\r\n//            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                if (snapshot.exists()) {\r\n//                    //classid = snapshot.child(mAuth.getCurrentUser().getUid()).child(\"Class_Id\").getValue(String.class);\r\n//                    //Toast.makeText(getActivity(),\"\"+classid+\" & \"+text+\" & \"+time.getText().toString()+\" & \"+subject.getText().toString()+\" & \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n//                    //Schedule schedule = new Schedule(classid, text, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n//                    //addScheduleViewModel.setScheduleResponse(schedule);\r\n//                    addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n//                        if (data == null) {\r\n//                           // Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n//                            Log.i(\"ApiCall\", \"Failed\");\r\n//                        } else {\r\n//                            Log.i(\"ApiCall\", \"successFull\");\r\n//                            String scheduleId = data.getSchedule().get_id();\r\n//                            databaseReference.child(mAuth.getCurrentUser().getUid()).child(\"Schedule_Id\").setValue(scheduleId);\r\n//                            Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n//                        }\r\n//                    });\r\n//                } else {\r\n//                    //Nothing to show here\r\n//                }\r\n//            }\r\n//            @Override\r\n//            public void onCancelled(@NonNull DatabaseError error) {\r\n//                //Toast.makeText(getActivity(),\"\"+error,Toast.LENGTH_SHORT).show();\r\n//            }\r\n//        });\r\n//    }\r\n\r\n    private void sendDataToServer(){\r\n        if(class_Id != null){\r\n            Schedule schedule = new Schedule(firebaseScheduleViewModel.RetrieveClassId(), day, time.getText().toString(), subject.getText().toString(), faculty.getText().toString());\r\n            addScheduleViewModel.setScheduleResponse(schedule);\r\n            //Toast.makeText(getActivity(),\"\"+firebaseScheduleViewModel.RetrieveClassId()+\" \"+day+\" \"+time.getText().toString()+\" \"+subject.getText().toString()+\" \"+faculty.getText().toString(),Toast.LENGTH_LONG).show();\r\n            addScheduleViewModel.getScheduleResponse().observe(getActivity(), data -> {\r\n                if (data == null) {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Toast.makeText(getActivity(),\"Fail to Add Schedule\",Toast.LENGTH_SHORT).show();\r\n                    Log.i(\"ApiCall\", \"Failed\");\r\n                    check = true;\r\n                } else {\r\n                    customLoadingDialog.dismissDialog();\r\n                    Log.i(\"ApiCall\", \"successFull\");\r\n                    String scheduleId = data.getSchedule().get_id();\r\n                    firebaseScheduleViewModel.AddClassScheduleId(scheduleId);\r\n                    Toast.makeText(getActivity(),\"Schedule Added Successfully\",Toast.LENGTH_SHORT).show();\r\n                    celebration.setVisibility(View.VISIBLE);\r\n                    celebration.playAnimation();\r\n                    check = true;\r\n                    Handler mhandler = new Handler();\r\n                    mhandler.postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            dismiss();\r\n\r\n                        }\r\n                    },600);\r\n                }\r\n            });\r\n        }else{\r\n            Toast.makeText(getContext(), \"Please Wait!\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(revision 723ec3e4a0e9a7d1dcedbfdd1f96a41a7956ca1d)
-+++ app/src/main/java/com/attendo/Schedule/AddSubjectDetailsFragment.java	(date 1610405412250)
-@@ -85,7 +85,6 @@
-         // String edit-time = bundle.getString("time");
- 
-         firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);
--
-         customLoadingDialog = new CustomLoadingDialog(getActivity());
- 
-         PB = view.findViewById(R.id.progress_bar_add_subject_details);
-Index: app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class TuesdayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static TuesdayCr getInstance(){\r\n        TuesdayCr tuesdayCr = new TuesdayCr();\r\n        return tuesdayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Tuesday\");\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Tuesday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(revision 723ec3e4a0e9a7d1dcedbfdd1f96a41a7956ca1d)
-+++ app/src/main/java/com/attendo/Schedule/CrViewPager/TuesdayCr.java	(date 1610404863508)
-@@ -16,7 +16,6 @@
- public class TuesdayCr extends Fragment {
- 
-     private FloatingActionButton fb;
--    private AddSubjectDetailsFragment addSubjectDetailsFragment;
- 
-     public static TuesdayCr getInstance(){
-         TuesdayCr tuesdayCr = new TuesdayCr();
-@@ -30,7 +29,6 @@
-         View view = inflater.inflate(R.layout.fragment_tuesday_cr, container, false);
-         ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle("Tuesday");
- 
--        addSubjectDetailsFragment = new AddSubjectDetailsFragment();
-         fb = view.findViewById(R.id.Schedule_add_subject_Tuesday);
- 
-         fb.setOnClickListener(new View.OnClickListener() {
-Index: app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.attendo.Schedule.CrViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.attendo.R;\r\nimport com.attendo.Schedule.AddSubjectDetailsFragment;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class FridayCr extends Fragment {\r\n\r\n    private FloatingActionButton fb;\r\n    private AddSubjectDetailsFragment addSubjectDetailsFragment;\r\n\r\n    public static FridayCr getInstance(){\r\n        FridayCr fridayCr = new FridayCr();\r\n        return fridayCr;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"friday\");\r\n\r\n        addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n        fb = view.findViewById(R.id.Schedule_add_subject_Friday);\r\n\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"day\",\"Friday\");\r\n                AddSubjectDetailsFragment addSubjectDetailsFragment = new AddSubjectDetailsFragment();\r\n                addSubjectDetailsFragment.setArguments(bundle);\r\n                addSubjectDetailsFragment.show(getParentFragmentManager(),\"Subject_Details\");\r\n            }\r\n        });\r\n\r\n        return  view;\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(revision 723ec3e4a0e9a7d1dcedbfdd1f96a41a7956ca1d)
-+++ app/src/main/java/com/attendo/Schedule/CrViewPager/FridayCr.java	(date 1610405305706)
-@@ -28,7 +28,7 @@
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
-         View view = inflater.inflate(R.layout.fragment_friday_cr, container, false);
--        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle("friday");
-+        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle("Friday");
- 
-         addSubjectDetailsFragment = new AddSubjectDetailsFragment();
-         fb = view.findViewById(R.id.Schedule_add_subject_Friday);
Index: app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.attendo.Schedule;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.attendo.R;\r\n\r\nimport com.attendo.Schedule.Preference.AppPreferences;\r\nimport com.attendo.data.model.CreateClass;\r\nimport com.attendo.ui.CustomLoadingDialog;\r\nimport com.attendo.viewmodel.FirebaseScheduleViewModel;\r\nimport com.attendo.viewmodel.ScheduleViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class CRDetailsInputFragment extends Fragment {\r\n\r\n    private EditText name,scholarId,ClassName;\r\n    private Button create;\r\n    private ScheduleViewModel scheduleViewModel;\r\n    private CrFragment crFragment;\r\n    private String class_code;\r\n    private String class_Id;\r\n    private FirebaseAuth mAuth;\r\n    private CustomLoadingDialog customLoadingDialog;\r\n    private FirebaseScheduleViewModel firebaseScheduleViewModel;\r\n    private AppPreferences appPreferences;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_cr_details_input, container, false);\r\n        ((AppCompatActivity) getActivity()).getSupportActionBar().setTitle(\"Create Class\");\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firebaseScheduleViewModel = new ViewModelProvider(this).get(FirebaseScheduleViewModel.class);\r\n        appPreferences = AppPreferences.getInstance(getContext());\r\n\r\n        scheduleViewModel =  new ViewModelProvider(this).get(ScheduleViewModel.class);\r\n\r\n        customLoadingDialog = new CustomLoadingDialog(getActivity());\r\n        crFragment = new CrFragment();\r\n        name = view.findViewById(R.id.cr_name_edittext);\r\n        scholarId = view.findViewById(R.id.cr_scholar_id_edittext);\r\n        ClassName = view.findViewById(R.id.cr_class_name_edittext);\r\n\r\n        create = view.findViewById(R.id.cr_create_class_btn);\r\n\r\n        create.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String Name = name.getText().toString();\r\n                String Scholarid = scholarId.getText().toString();\r\n                String EmailId = mAuth.getCurrentUser().getEmail().toString();\r\n                String Class = ClassName.getText().toString();\r\n                if(Name.length()>0 && Scholarid.length()>0 && EmailId.length()>0 && Class.length()>0){\r\n                    class_code = SendDataToServer();\r\n                    customLoadingDialog.startDialog(false);\r\n                }\r\n                else{\r\n                    Toast.makeText(getActivity(),\"Please fill all the fields\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private String  SendDataToServer() {\r\n        CreateClass createClass = new CreateClass(name.getText().toString(),mAuth.getCurrentUser().getEmail().toString(),ClassName.getText().toString(),scholarId.getText().toString());\r\n        scheduleViewModel.setClassResponse(createClass);\r\n        scheduleViewModel.getClassResponse().observe(getActivity(), data -> {\r\n            if (data == null) {\r\n                customLoadingDialog.dismissDialog();\r\n                Toast.makeText(getActivity(),\"Fail to Create\",Toast.LENGTH_SHORT).show();\r\n                Log.i(\"ApiCall\", \"Failed\");\r\n            } else {\r\n                customLoadingDialog.dismissDialog();\r\n                Log.i(\"ApiCall\", \"successFull\");\r\n                SetSharedPreferenceData();\r\n                class_code = data.get_class().getCode();\r\n                class_Id = data.get_class().get_id();\r\n                Log.i(\"classid\",class_Id);\r\n                firebaseScheduleViewModel.AddCLassCode(class_code);\r\n                firebaseScheduleViewModel.AddClassId(class_Id);\r\n                appPreferences.AddClassId(class_Id);\r\n                firebaseScheduleViewModel.AddClassJoinAs(\"Cr\");\r\n                appPreferences.AddClassJoinAs(\"Cr\");\r\n                Toast.makeText(getContext(),\"Class Created\" +\" \"+ class_code,Toast.LENGTH_LONG).show();\r\n                setFragment(crFragment);\r\n            }\r\n        });\r\n\r\n        return class_code;\r\n    }\r\n\r\n    private void SetSharedPreferenceData() {\r\n        SharedPreferences pref = getActivity().getSharedPreferences(\"MyPref\", 0);\r\n        SharedPreferences.Editor editor = pref.edit();\r\n        editor.putString(\"Class_Id\",firebaseScheduleViewModel.RetrieveClassId());\r\n        editor.putString(\"Class_Join_As\",\"Cr\");\r\n        editor.commit();\r\n    }\r\n\r\n    private void setFragment(Fragment fragment) {\r\n        FragmentTransaction fragmentTransaction = getParentFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_frame,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java	(revision e162ab58b529d875314bcc7a2ee96693585689d8)
+++ app/src/main/java/com/attendo/Schedule/CRDetailsInputFragment.java	(date 1611020830830)
@@ -2,12 +2,6 @@
 
 import android.content.SharedPreferences;
 import android.os.Bundle;
-
-import androidx.appcompat.app.AppCompatActivity;
-import androidx.fragment.app.Fragment;
-import androidx.fragment.app.FragmentTransaction;
-import androidx.lifecycle.ViewModelProvider;
-
 import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -16,8 +10,12 @@
 import android.widget.EditText;
 import android.widget.Toast;
 
+import androidx.appcompat.app.AppCompatActivity;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentTransaction;
+import androidx.lifecycle.ViewModelProvider;
+
 import com.attendo.R;
-
 import com.attendo.Schedule.Preference.AppPreferences;
 import com.attendo.data.model.CreateClass;
 import com.attendo.ui.CustomLoadingDialog;
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_16_2021_6_00_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_16_2021_6_00_PM__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_17_2021_5_14_AM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_17_2021_5_14_AM__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_17_2021_7_19_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_17_2021_7_19_PM__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_1_16_2021_6_39_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_1_16_2021_6_39_PM__Default_Changelist_.xml
